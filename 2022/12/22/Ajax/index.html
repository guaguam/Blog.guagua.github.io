<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Ajax | GuaGua's BLOG</title><meta name="author" content="GuaGuaSuaka"><meta name="copyright" content="GuaGuaSuaka"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="ajax客户端与服务器服务器12上网的本质目的：通过互联网的形式来获取和消费资源服务器：负责存放和对外提供资源的电脑，叫做服务器  客户端1上网过程中，负责获取和消费资源的电脑，叫做客户端。  URL地址URL地址的概念123456URL（全称是UniformResourceLocator）中文叫统一资源定位符，用于标识互联网上每个资源的唯一存放位置。浏览器只有通过URL地址，才能正确定位资源的存">
<meta property="og:type" content="article">
<meta property="og:title" content="Ajax">
<meta property="og:url" content="https://www.guaguablog.online/2022/12/22/Ajax/index.html">
<meta property="og:site_name" content="GuaGua&#39;s BLOG">
<meta property="og:description" content="ajax客户端与服务器服务器12上网的本质目的：通过互联网的形式来获取和消费资源服务器：负责存放和对外提供资源的电脑，叫做服务器  客户端1上网过程中，负责获取和消费资源的电脑，叫做客户端。  URL地址URL地址的概念123456URL（全称是UniformResourceLocator）中文叫统一资源定位符，用于标识互联网上每个资源的唯一存放位置。浏览器只有通过URL地址，才能正确定位资源的存">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.guaguablog.online/images/Ajax.png">
<meta property="article:published_time" content="2022-12-22T06:33:23.000Z">
<meta property="article:modified_time" content="2022-12-22T06:34:32.351Z">
<meta property="article:author" content="GuaGuaSuaka">
<meta property="article:tag" content="BLOG">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.guaguablog.online/images/Ajax.png"><link rel="shortcut icon" href="/images/1.jpeg"><link rel="canonical" href="https://www.guaguablog.online/2022/12/22/Ajax/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Ajax',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-12-22 14:34:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://www.fomal.cc/static/css/runtime.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/2.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/Ajax.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">GuaGua's BLOG</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 目录</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Ajax</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-12-22T06:33:23.000Z" title="发表于 2022-12-22 14:33:23">2022-12-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-12-22T06:34:32.351Z" title="更新于 2022-12-22 14:34:32">2022-12-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>55分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Ajax"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h4 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h4><h5 id="客户端与服务器"><a href="#客户端与服务器" class="headerlink" title="客户端与服务器"></a>客户端与服务器</h5><h6 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">上网的本质目的：通过互联网的形式来获取和消费资源</span><br><span class="line">服务器：负责存放和对外提供资源的电脑，叫做服务器</span><br></pre></td></tr></table></figure>

<h6 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">上网过程中，负责获取和消费资源的电脑，叫做客户端。</span><br></pre></td></tr></table></figure>

<h5 id="URL地址"><a href="#URL地址" class="headerlink" title="URL地址"></a>URL地址</h5><h6 id="URL地址的概念"><a href="#URL地址的概念" class="headerlink" title="URL地址的概念"></a>URL地址的概念</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">URL（全称是UniformResourceLocator）中文叫统一资源定位符，用于标识互联网上每个资源的唯一存放位置。浏览器只有通过URL地址，才能正确定位资源的存放位置，从而成功访问到对应的资源。</span><br><span class="line">常见的URL举例：</span><br><span class="line">http://www.baidu.com</span><br><span class="line">http://www.taobao.com</span><br><span class="line">http://www.cnblogs.com/liulongbinblogs/p/11649393.html</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="2-2-URL地址的组成部分"><a href="#2-2-URL地址的组成部分" class="headerlink" title="2.2 URL地址的组成部分"></a>2.2 URL地址的组成部分</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">URL地址一般由三部组成：</span><br><span class="line">① 客户端与服务器之间的通信协议</span><br><span class="line">② 存有该资源的服务器名称</span><br><span class="line">③ 资源在服务器上具体的存放位置</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824161356164.png"></p>
<h5 id="分析网页的打开过程"><a href="#分析网页的打开过程" class="headerlink" title="分析网页的打开过程"></a>分析网页的打开过程</h5><h6 id="图解客户端与服务器的通信过程"><a href="#图解客户端与服务器的通信过程" class="headerlink" title="图解客户端与服务器的通信过程"></a>图解客户端与服务器的通信过程</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">客户端</span><br><span class="line">打开浏览器</span><br><span class="line">输入要访问的网站地址</span><br><span class="line">回车，向服务器发起资源请求</span><br><span class="line">服务端</span><br><span class="line">服务器接收到客户端发来的资源请求</span><br><span class="line">服务器在内部处理这次请求，找到相关的资源</span><br><span class="line">服务器把找到的资源，响应（发送）给客户端</span><br><span class="line"></span><br><span class="line">客户端与服务器之间的通信过程，分为 请求 – 处理 – 响应 三个步骤。</span><br><span class="line">网页中的每一个资源，都是通过 请求 – 处理 – 响应 的方式从服务器获取回来的。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="基于浏览器的开发者工具分析通信过程"><a href="#基于浏览器的开发者工具分析通信过程" class="headerlink" title="基于浏览器的开发者工具分析通信过程"></a>基于浏览器的开发者工具分析通信过程</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">打开 Chrome 浏览器</span><br><span class="line">Ctrl+Shift+I 打开 Chrome 的开发者工具</span><br><span class="line">切换到 Network 面板</span><br><span class="line">选中 Doc 页签</span><br><span class="line">刷新页面，分析客户端与服务器的通信过程</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824161601044.png"></p>
<h5 id="服务器对外提供了哪些资源"><a href="#服务器对外提供了哪些资源" class="headerlink" title="服务器对外提供了哪些资源"></a>服务器对外提供了哪些资源</h5><h6 id="例举网页中常见的资源"><a href="#例举网页中常见的资源" class="headerlink" title="例举网页中常见的资源"></a>例举网页中常见的资源</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文字 图片 视频 音频</span><br></pre></td></tr></table></figure>

<h6 id="数据也是资源"><a href="#数据也是资源" class="headerlink" title="数据也是资源"></a>数据也是资源</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">网页中的数据，也是服务器对外提供的一种资源。例如股票数据、各行业排行榜等。</span><br></pre></td></tr></table></figure>

<h6 id="数据是网页的灵魂"><a href="#数据是网页的灵魂" class="headerlink" title="数据是网页的灵魂"></a>数据是网页的灵魂</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> HTML是网页的骨架</span><br><span class="line"> CSS是网页的颜值</span><br><span class="line"> Javascript是网页的行为</span><br><span class="line"> 数据，则是网页的灵魂</span><br><span class="line"></span><br><span class="line">骨架、颜值、行为皆为数据服务</span><br><span class="line">数据，在网页中无处不在</span><br></pre></td></tr></table></figure>

<h6 id="网页中如何请求数据"><a href="#网页中如何请求数据" class="headerlink" title="网页中如何请求数据"></a>网页中如何请求数据</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">数据，也是服务器对外提供的一种资源。只要是资源，必然要通过 请求 – 处理 – 响应 的方式进行获取。</span><br><span class="line"></span><br><span class="line">如果要在网页中请求服务器上的数据资源，则需要用到 XMLHttpRequest 对象。</span><br><span class="line">XMLHttpRequest（简称 xhr）是浏览器提供的 js 成员，通过它，可以请求服务器上的数据资源。</span><br><span class="line">最简单的用法 var xhrObj = new XMLHttpRequest()  </span><br></pre></td></tr></table></figure>

<h6 id="资源的请求方式"><a href="#资源的请求方式" class="headerlink" title="资源的请求方式"></a>资源的请求方式</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">客户端请求服务器时，请求的方式有很多种，最常见的两种请求方式分别为 get 和 post 请求。</span><br><span class="line"> get 请求通常用于获取服务端资源（向服务器要资源）</span><br><span class="line">      例如：根据 URL 地址，从服务器获取 HTML 文件、css 文件、js文件、图片文件、数据资源等</span><br><span class="line"></span><br><span class="line"> post 请求通常用于向服务器提交数据（往服务器发送资源）</span><br><span class="line">      例如：登录时向服务器提交的登录信息、注册时向服务器提交的注册信息、添加用户时向服务器提交的用户信息等各种数据提交操作</span><br></pre></td></tr></table></figure>

<h5 id="了解Ajax"><a href="#了解Ajax" class="headerlink" title="了解Ajax"></a>了解Ajax</h5><h6 id="什么是Ajax"><a href="#什么是Ajax" class="headerlink" title="什么是Ajax"></a>什么是Ajax</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ajax 的全称是 Asynchronous Javascript And XML（异步 JavaScript 和 XML）。</span><br><span class="line">通俗的理解：在网页中利用 XMLHttpRequest 对象和服务器进行数据交互的方式，就是Ajax</span><br></pre></td></tr></table></figure>

<h6 id="2-为什么要学Ajax"><a href="#2-为什么要学Ajax" class="headerlink" title="2 为什么要学Ajax"></a>2 为什么要学Ajax</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">之前所学的技术，只能把网页做的更美观漂亮，或添加一些动画效果，但是，Ajax能让我们轻松实现网页与服务器之间的数据交互。</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824164328573.png"></p>
<h6 id="Ajax的典型应用场景"><a href="#Ajax的典型应用场景" class="headerlink" title="Ajax的典型应用场景"></a>Ajax的典型应用场景</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">用户名检测：注册用户时，通过 ajax 的形式，动态检测用户名是否被占用</span><br><span class="line">搜索提示：当输入搜索关键字时，通过 ajax 的形式，动态加载搜索提示列表</span><br><span class="line">数据分页显示：当点击页码值的时候，通过 ajax 的形式，根据页码值动态刷新表格的数据</span><br><span class="line">数据的增删改查：数据的添加、删除、修改、查询操作，都需要通过 ajax 的形式，来实现数据的交互</span><br></pre></td></tr></table></figure>

<h5 id="jQuery中的Ajax"><a href="#jQuery中的Ajax" class="headerlink" title="jQuery中的Ajax"></a>jQuery中的Ajax</h5><h6 id="了解jQuery中的Ajax"><a href="#了解jQuery中的Ajax" class="headerlink" title="了解jQuery中的Ajax"></a>了解jQuery中的Ajax</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">浏览器中提供的 XMLHttpRequest 用法比较复杂，所以 jQuery 对 XMLHttpRequest 进行了封装，提供了一系列 Ajax 相关的函数，极大地降低了 Ajax 的使用难度。</span><br><span class="line">jQuery 中发起 Ajax 请求最常用的三个方法如下：</span><br><span class="line"> $.get()</span><br><span class="line"> $.post()</span><br><span class="line"> $.ajax()</span><br></pre></td></tr></table></figure>

<h6 id="get-函数的语法"><a href="#get-函数的语法" class="headerlink" title="$.get()函数的语法"></a>$.get()函数的语法</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$.get(url, [data], [callback])</span><br><span class="line">url      string     是     要请求的资源地址</span><br><span class="line">data    object     否    请求资源期间要携带的参数</span><br><span class="line">callback    function    否    请求成功时的回调函数</span><br></pre></td></tr></table></figure>

<h6 id="get-发起不带参数的请求"><a href="#get-发起不带参数的请求" class="headerlink" title="$.get()发起不带参数的请求"></a>$.get()发起不带参数的请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">使用 $.<span class="title function_">get</span>() 函数发起不带参数的请求时，直接提供请求的 <span class="variable constant_">URL</span> 地址和请求成功之后的回调函数即可，示例代码如下：</span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>, <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res) <span class="comment">// 这里的 res 是服务器返回的数据</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="get-发起带参数的请求"><a href="#get-发起带参数的请求" class="headerlink" title="$.get()发起带参数的请求"></a>$.get()发起带参数的请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>, &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;, <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="post-函数的语法"><a href="#post-函数的语法" class="headerlink" title="$.post()函数的语法"></a>$.post()函数的语法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">post</span>() 函数的功能单一，专门用来发起 post 请求，从而向服务器提交数据。</span><br><span class="line">$.<span class="title function_">post</span>() 函数的语法如下：</span><br><span class="line">$.<span class="title function_">post</span>(url, [data], [callback])</span><br><span class="line"></span><br><span class="line">$.<span class="title function_">post</span>(</span><br><span class="line">  <span class="string">&#x27;http://www.liulongbin.top:3006/api/addbook&#x27;</span>, <span class="comment">// 请求的URL地址</span></span><br><span class="line">   &#123; <span class="attr">bookname</span>: <span class="string">&#x27;水浒传&#x27;</span>, <span class="attr">author</span>: <span class="string">&#x27;施耐庵&#x27;</span>, <span class="attr">publisher</span>: <span class="string">&#x27;上海图书出版社&#x27;</span> &#125;, <span class="comment">// 提交的数据</span></span><br><span class="line">   <span class="keyword">function</span>(<span class="params">res</span>) &#123; <span class="comment">// 回调函数</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">   &#125;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="ajax的基本语法"><a href="#ajax的基本语法" class="headerlink" title="ajax的基本语法"></a>ajax的基本语法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>:<span class="string">&#x27;&#x27;</span>,<span class="comment">//请求的方式 如get 或 post</span></span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;&#x27;</span>,<span class="comment">//请求的url地址</span></span><br><span class="line">    <span class="attr">data</span>:&#123;&#125;,<span class="comment">//这次请求要携带的数据</span></span><br><span class="line">    <span class="attr">success</span>:<span class="keyword">function</span>(<span class="params">res</span>)&#123;&#125;<span class="comment">//请求成功之后的回调函数</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">使用 <span class="title class_">Ajax</span> 请求数据时，被请求的 <span class="variable constant_">URL</span> 地址，就叫做数据接口（简称接口）。同时，每个接口必须有请求方式。</span><br><span class="line">例如：</span><br><span class="line"><span class="attr">http</span>:<span class="comment">//www.liulongbin.top:3006/api/getbooks  获取图书列表的接口(GET请求)</span></span><br><span class="line"><span class="attr">http</span>:<span class="comment">//www.liulongbin.top:3006/api/addbook   添加图书的接口（POST请求）</span></span><br></pre></td></tr></table></figure>

<h6 id="分析接口的请求过程"><a href="#分析接口的请求过程" class="headerlink" title="分析接口的请求过程"></a>分析接口的请求过程</h6><ol>
<li><h6 id="通过GET方式请求接口的过程"><a href="#通过GET方式请求接口的过程" class="headerlink" title="通过GET方式请求接口的过程"></a>通过GET方式请求接口的过程</h6></li>
</ol>
<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824184555756.png" style="zoom: 50%;" />

<ol start="2">
<li><h6 id="通过POST方式请求接口的过程"><a href="#通过POST方式请求接口的过程" class="headerlink" title="通过POST方式请求接口的过程"></a>通过POST方式请求接口的过程</h6></li>
</ol>
<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824184644688.png" style="zoom:50%;" />

<h6 id="接口测试工具"><a href="#接口测试工具" class="headerlink" title="接口测试工具"></a>接口测试工具</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">为了验证接口能否被正常被访问，我们常常需要使用接口测试工具，来对数据接口进行检测。</span><br><span class="line">好处：接口测试工具能让我们在不写任何代码的情况下，对接口进行调用和测试。</span><br><span class="line">PostMan</span><br></pre></td></tr></table></figure>

<h6 id="下载并安装PostMan"><a href="#下载并安装PostMan" class="headerlink" title="下载并安装PostMan"></a>下载并安装PostMan</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">访问 PostMan 的官方下载网址 https://www.getpostman.com/downloads/，下载所需的安装程序</span><br></pre></td></tr></table></figure>

<h6 id="了解PostMan界面的组成部分"><a href="#了解PostMan界面的组成部分" class="headerlink" title="了解PostMan界面的组成部分"></a>了解PostMan界面的组成部分</h6><h6 id="使用PostMan测试GET接口"><a href="#使用PostMan测试GET接口" class="headerlink" title="使用PostMan测试GET接口"></a>使用PostMan测试GET接口</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">选择请求的方式</span><br><span class="line">填写请求的URL地址</span><br><span class="line">填写请求的参数</span><br><span class="line">点击 Send 按钮发起 GET 请求</span><br><span class="line">查看服务器响应的结果</span><br></pre></td></tr></table></figure>

<h6 id="使用PostMan测试POST接口"><a href="#使用PostMan测试POST接口" class="headerlink" title="使用PostMan测试POST接口"></a>使用PostMan测试POST接口</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">选择请求的方式</span><br><span class="line">填写请求的URL地址</span><br><span class="line">选择 Body 面板并勾选数据格式</span><br><span class="line">填写要发送到服务器的数据</span><br><span class="line">点击 Send 按钮发起 POST 请求</span><br><span class="line">查看服务器响应的结果</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824185148601.png" style="zoom:50%;" />

<h6 id="接口文档"><a href="#接口文档" class="headerlink" title="接口文档"></a>接口文档</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">接口文档，顾名思义就是接口的说明文档，它是我们调用接口的依据。好的接口文档包含了对接口URL，参数以及输出内容的说明，我们参照接口文档就能方便的知道接口的作用，以及接口如何进行调用。</span><br><span class="line">接口文档可以包含很多信息，也可以按需进行精简，不过，一个合格的接口文档，应该包含以下6项内容，从而为接口的调用提供依据：</span><br><span class="line"> 接口名称：用来标识各个接口的简单说明，如登录接口，获取图书列表接口等。</span><br><span class="line"> 接口URL：接口的调用地址。</span><br><span class="line"> 调用方式：接口的调用方式，如 GET 或 POST。</span><br><span class="line"> 参数格式：接口需要传递的参数，每个参数必须包含参数名称、参数类型、是否必选、参数说明这4项内容。</span><br><span class="line"> 响应格式：接口的返回值的详细描述，一般包含数据名称、数据类型、说明3项内容。</span><br><span class="line"> 返回示例（可选）：通过对象的形式，例举服务器返回数据的结构。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="form表单与模板引擎"><a href="#form表单与模板引擎" class="headerlink" title="form表单与模板引擎"></a>form表单与模板引擎</h4><h5 id="form表单的基本使用"><a href="#form表单的基本使用" class="headerlink" title="form表单的基本使用"></a>form表单的基本使用</h5><h6 id="什么是表单"><a href="#什么是表单" class="headerlink" title="什么是表单"></a>什么是表单</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">表单在网页中主要负责数据采集功能。HTML中的<span class="tag">&lt;<span class="name">form</span>&gt;</span>标签，就是用于采集用户输入的信息，并通过<span class="tag">&lt;<span class="name">form</span>&gt;</span>标签的提交操作，把采集到的信息提交到服务器端进行处理。</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email_or_mobile&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;remember_me&quot;</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="表单的组成部分"><a href="#表单的组成部分" class="headerlink" title="表单的组成部分"></a>表单的组成部分</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email_or_mobile&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;remember_me&quot;</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">表单域：包含了文本框、密码框、隐藏域、多行文本框、复选框、单选框、下拉选择框和文件上传框等。</span><br><span class="line">表单由三个基本部分组成：</span><br><span class="line">表单标签  表单域  表单按钮</span><br></pre></td></tr></table></figure>

<h6 id="form标签的属性"><a href="#form标签的属性" class="headerlink" title="form标签的属性"></a>form标签的属性</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;form&gt;标签用来采集数据，&lt;form&gt;标签的属性则是用来规定如何把采集到的数据发送到服务器。</span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824191510815.png" style="zoom:50%;" />

<h6 id="action"><a href="#action" class="headerlink" title="action"></a>action</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">action 属性用来规定当提交表单时，向何处发送表单数据。</span><br><span class="line">action 属性的值应该是后端提供的一个 URL 地址，这个 URL 地址专门负责接收表单提交过来的数据。</span><br><span class="line">当 &lt;form&gt; 表单在未指定 action 属性值的情况下，action 的默认值为当前页面的 URL 地址。</span><br><span class="line"></span><br><span class="line">注意：当提交表单后，页面会立即跳转到 action 属性指定的 URL 地址</span><br></pre></td></tr></table></figure>

<h6 id="target"><a href="#target" class="headerlink" title="target"></a>target</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">target 属性用来规定在何处打开 action URL。</span><br><span class="line">它的可选值有5个，默认情况下，target 的值是 _self，表示在相同的框架中打开 action URL。</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824191652875.png"></p>
<h6 id="method"><a href="#method" class="headerlink" title="method"></a>method</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">method 属性用来规定以何种方式把表单数据提交到 action URL。</span><br><span class="line">它的可选值有两个，分别是 get 和 post。</span><br><span class="line">默认情况下，method 的值为 get，表示通过URL地址的形式，把表单数据提交到 action URL。</span><br><span class="line">注意：</span><br><span class="line">get 方式适合用来提交少量的、简单的数据。</span><br><span class="line">post 方式适合用来提交大量的、复杂的、或包含文件上传的数据。</span><br><span class="line">  在实际开发中，<span class="tag">&lt;<span class="name">form</span>&gt;</span> 表单的 post 提交方式用的最多，很少用 get。例如登录、注册、添加数据等表单操作，都需要使用 post 方式来提交表单。</span><br></pre></td></tr></table></figure>

<h6 id="enctype"><a href="#enctype" class="headerlink" title="enctype"></a>enctype</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">enctype 属性用来规定在发送表单数据之前如何对数据进行编码。</span><br><span class="line">它的可选值有三个，默认情况下，enctype 的值为 application/x-www-form-urlencoded，表示在发送前编码所有的字符。</span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220824191847754.png" style="zoom: 80%;" />

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注意：</span><br><span class="line">在涉及到文件上传的操作时，必须将 enctype 的值设置为 multipart/form-data</span><br><span class="line">如果表单的提交不涉及到文件上传操作，则直接将 enctype 的值设置为 application/x-www-form-urlencoded 即可！</span><br></pre></td></tr></table></figure>

<h6 id="表单的同步提交及缺点"><a href="#表单的同步提交及缺点" class="headerlink" title="表单的同步提交及缺点"></a>表单的同步提交及缺点</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过点击 submit 按钮，触发表单提交的操作，从而使页面跳转到 action URL 的行为，叫做表单的同步提交。</span><br></pre></td></tr></table></figure>

<h6 id="表单同步提交的缺点"><a href="#表单同步提交的缺点" class="headerlink" title="表单同步提交的缺点"></a>表单同步提交的缺点</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;form&gt;表单同步提交后，整个页面会发生跳转，跳转到 action URL 所指向的地址，用户体验很差。</span><br><span class="line">&lt;form&gt;表单同步提交后，页面之前的状态和数据会丢失。</span><br></pre></td></tr></table></figure>

<h6 id="如何解决表单同步提交的缺点"><a href="#如何解决表单同步提交的缺点" class="headerlink" title="如何解决表单同步提交的缺点"></a>如何解决表单同步提交的缺点</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">解决方案：表单只负责采集数据，Ajax 负责将数据提交到服务器。</span><br></pre></td></tr></table></figure>

<h5 id="通过Ajax提交表单数据"><a href="#通过Ajax提交表单数据" class="headerlink" title="通过Ajax提交表单数据"></a>通过Ajax提交表单数据</h5><h6 id="监听表单提交事件"><a href="#监听表单提交事件" class="headerlink" title="监听表单提交事件"></a>监听表单提交事件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">submit</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="title function_">alert</span>(<span class="string">&#x27;监听到了表单的提交事件&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="title function_">alert</span>(<span class="string">&#x27;监听到了表单的提交事件&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="阻止表单默认提交行为-e-preventDefault"><a href="#阻止表单默认提交行为-e-preventDefault" class="headerlink" title="阻止表单默认提交行为(e.preventDefault())"></a>阻止表单默认提交行为(e.preventDefault())</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">submit</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="comment">// 阻止表单的提交和页面的跳转</span></span><br><span class="line">   e.<span class="title function_">preventDefault</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;#form1&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">   <span class="comment">// 阻止表单的提交和页面的跳转</span></span><br><span class="line">   e.<span class="title function_">preventDefault</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="serialize-函数"><a href="#serialize-函数" class="headerlink" title="serialize()函数"></a>serialize()函数</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">为了简化表单中数据的获取操作，jQuery 提供了 serialize() 函数，其语法格式如下：</span><br><span class="line">$(&#x27;表单&#x27;).serialize()</span><br><span class="line">serialize()函数的好处：可以一次性获取到表单的所有数据</span><br></pre></td></tr></table></figure>

<h6 id="serialize-函数示例"><a href="#serialize-函数示例" class="headerlink" title="serialize()函数示例"></a>serialize()函数示例</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;form1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">$(&#x27;#form1&#x27;).serialize()</span><br><span class="line"><span class="comment">&lt;!--调用的结果：</span></span><br><span class="line"><span class="comment">//username=用户名的值&amp;password=密码的值</span></span><br><span class="line"><span class="comment">注意：在使用 serialize() 函数快速获取表单数据时，必须为每个表单元素添加 name 属性--&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="模板引擎的基本概念"><a href="#模板引擎的基本概念" class="headerlink" title="模板引擎的基本概念"></a>模板引擎的基本概念</h5><h6 id="渲染UI结构时遇到的问题"><a href="#渲染UI结构时遇到的问题" class="headerlink" title="渲染UI结构时遇到的问题"></a>渲染UI结构时遇到的问题</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rows=[]</span><br><span class="line">$.<span class="title function_">each</span>(res.<span class="property">data</span>,<span class="keyword">function</span>(<span class="params">i,item</span>)&#123;<span class="comment">//循环拼接字符串</span></span><br><span class="line">    row.<span class="title function_">push</span>(<span class="string">&#x27;&lt;li&gt;&lt;/li&gt;&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">&#x27;父级&#x27;</span>).<span class="title function_">empty</span>().<span class="title function_">append</span>(rows.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>))<span class="comment">//渲染列表的UI结构</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如果UI结构比较复杂，则拼接字符串的时候需要格外注意引号之前的嵌套。且一旦需求发生变化，修改起来也非常麻烦。</span><br></pre></td></tr></table></figure>

<h6 id="模板引擎的好处"><a href="#模板引擎的好处" class="headerlink" title="模板引擎的好处"></a>模板引擎的好处</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">减少了字符串的拼接操作</span><br><span class="line">使代码结构更清晰</span><br><span class="line">使代码更易于阅读与维护</span><br></pre></td></tr></table></figure>

<h5 id="art-template模板引擎"><a href="#art-template模板引擎" class="headerlink" title="art-template模板引擎"></a>art-template模板引擎</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">art-template 是一个简约、超快的模板引擎。中文官网首页为  http://aui.github.io/art-template/zh-cn/index.html</span><br><span class="line"></span><br><span class="line">在浏览器中访问 http://aui.github.io/art-template/zh-cn/docs/installation.html 页面，找到下载链接后，鼠标右键，选择“链接另存为”，将 art-template 下载到本地，然后，通过 &lt;script&gt; 标签加载到网页上进行使用。</span><br></pre></td></tr></table></figure>

<h6 id="art-template的使用步骤"><a href="#art-template的使用步骤" class="headerlink" title="art-template的使用步骤"></a>art-template的使用步骤</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">导入 art-template</span><br><span class="line">定义数据</span><br><span class="line">定义模板</span><br><span class="line">调用 template 函数</span><br><span class="line">渲染HTML结构</span><br><span class="line"></span><br><span class="line">art-template 提供了 &#123;&#123; &#125;&#125; 这种语法格式，在 &#123;&#123; &#125;&#125; 内可以进行变量输出，或循环数组等操作，这种 &#123;&#123; &#125;&#125; 语法在 art-template 中被称为标准语法。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 在 window 全局，多一个函数，叫做 template(&#x27;模板的Id&#x27;, 需要渲染的数据对象) --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/template-web.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 3. 定义模板 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 3.1 模板的 HTML 结构，必须定义到 script 中 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span> <span class="attr">id</span>=<span class="string">&quot;tpl-user&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">name</span>&#125;&#125;</span><span class="language-xml">    ------    </span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    </span><span class="template-variable">&#123;&#123;@ <span class="name">test</span>&#125;&#125;</span><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      </span><span class="template-variable">&#123;&#123;<span class="name"><span class="built_in">if</span></span> flag === <span class="number">0</span>&#125;&#125;</span><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      flag的值是0</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      </span><span class="template-tag">&#123;&#123;<span class="keyword">else</span> <span class="keyword">if</span> flag === 1&#125;&#125;</span><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      flag的值是1</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      </span><span class="template-tag">&#123;&#123;/<span class="name"><span class="built_in">if</span></span>&#125;&#125;</span><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      </span><span class="template-variable">&#123;&#123;<span class="name"><span class="built_in">each</span></span> hobby&#125;&#125;</span><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>索引是:</span><span class="template-variable">&#123;&#123;<span class="name">$index</span>&#125;&#125;</span><span class="language-xml">，循环项是:</span><span class="template-variable">&#123;&#123;<span class="name">$value</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">      </span><span class="template-tag">&#123;&#123;/<span class="name"><span class="built_in">each</span></span>&#125;&#125;</span><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">regTime</span> | dateFormat&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 定义处理时间的过滤器</span></span></span><br><span class="line"><span class="language-javascript">    template.<span class="property">defaults</span>.<span class="property">imports</span>.<span class="property">dateFormat</span> = <span class="keyword">function</span> (<span class="params">date</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> y = date.<span class="title function_">getFullYear</span>()</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> m = date.<span class="title function_">getMonth</span>() + <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> d = date.<span class="title function_">getDate</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> y + <span class="string">&#x27;-&#x27;</span> + m + <span class="string">&#x27;-&#x27;</span> + d</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2. 定义需要渲染的数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">test</span>: <span class="string">&#x27;&lt;h3&gt;测试原文输出&lt;/h3&gt;&#x27;</span>, <span class="attr">flag</span>: <span class="number">1</span>, <span class="attr">hobby</span>: [<span class="string">&#x27;吃饭&#x27;</span>, <span class="string">&#x27;睡觉&#x27;</span>, <span class="string">&#x27;写代码&#x27;</span>], <span class="attr">regTime</span>: <span class="keyword">new</span> <span class="title class_">Date</span>() &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 4. 调用 template 函数  返回的html用来放入预留的位置</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> htmlStr = <span class="title function_">template</span>(<span class="string">&#x27;tpl-user&#x27;</span>, data)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(htmlStr)</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 5. 渲染HTML结构</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#container&#x27;</span>).<span class="title function_">html</span>(htmlStr)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="标准语法-输出"><a href="#标准语法-输出" class="headerlink" title="标准语法 - 输出"></a>标准语法 - 输出</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;value&#125;&#125;</span><br><span class="line">&#123;&#123;obj.key&#125;&#125;</span><br><span class="line">&#123;&#123;obj[&#x27;key&#x27;]&#125;&#125;</span><br><span class="line">&#123;&#123;a ? b : c&#125;&#125;</span><br><span class="line">&#123;&#123;a || b&#125;&#125;</span><br><span class="line">&#123;&#123;a + b&#125;&#125;</span><br><span class="line">在 &#123;&#123; &#125;&#125; 语法中，可以进行变量的输出、对象属性的输出、三元表达式输出、逻辑或输出、加减乘除等表达式输出</span><br></pre></td></tr></table></figure>

<h6 id="标准语法-–-原文输出-保证html被渲染"><a href="#标准语法-–-原文输出-保证html被渲染" class="headerlink" title="标准语法 – 原文输出(保证html被渲染)"></a>标准语法 – 原文输出(保证html被渲染)</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;@ value &#125;&#125;</span><br><span class="line">如果要输出的 value 值中，包含了 HTML 标签结构，则需要使用原文输出语法，才能保证 HTML 标签被正常渲染。 </span><br></pre></td></tr></table></figure>

<h6 id="标准语法-–-条件输出"><a href="#标准语法-–-条件输出" class="headerlink" title="标准语法 – 条件输出"></a>标准语法 – 条件输出</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">如果要实现条件输出，则可以在 &#123;&#123; &#125;&#125; 中使用 <span class="keyword">if</span> … <span class="keyword">else</span> <span class="keyword">if</span> … /<span class="keyword">if</span> 的方式，进行按需输出。</span><br><span class="line">&#123;&#123;<span class="keyword">if</span> 判断条件&#125;&#125; 按需输出的内容 &#123;&#123;/<span class="keyword">if</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;<span class="keyword">if</span> 判断条件&#125;&#125; 按需输出的内容 &#123;&#123;<span class="keyword">else</span> <span class="keyword">if</span> 判断条件&#125;&#125; 按需输出的内容 &#123;&#123;/<span class="keyword">if</span>&#125;&#125;</span><br><span class="line">&#123;&#123;<span class="keyword">if</span> flag === <span class="number">0</span>&#125;&#125;</span><br><span class="line">      flag的值是<span class="number">0</span></span><br><span class="line">&#123;&#123;<span class="keyword">else</span> <span class="keyword">if</span> flag === <span class="number">1</span>&#125;&#125;</span><br><span class="line">      flag的值是<span class="number">1</span></span><br><span class="line">&#123;&#123;/<span class="keyword">if</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<h6 id="标准语法-–-循环输出"><a href="#标准语法-–-循环输出" class="headerlink" title="标准语法 – 循环输出"></a>标准语法 – 循环输出</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;each arr&#125;&#125;</span><br><span class="line">    &#123;&#123;$index&#125;&#125; &#123;&#123;$value&#125;&#125;</span><br><span class="line">&#123;&#123;/each&#125;&#125;</span><br></pre></td></tr></table></figure>

<h6 id="标准语法-–-过滤器"><a href="#标准语法-–-过滤器" class="headerlink" title="标准语法 – 过滤器"></a>标准语法 – 过滤器</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">过滤器的本质，就是一个 function 处理函数。</span><br><span class="line">&#123;&#123;value | filterName&#125;&#125;</span><br><span class="line">template.defaults.imports.filterName = function(value)&#123;/*return处理的结果*/&#125;</span><br></pre></td></tr></table></figure>

<h5 id="模板引擎的实现原理"><a href="#模板引擎的实现原理" class="headerlink" title="模板引擎的实现原理"></a>模板引擎的实现原理</h5><h6 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">exec</span>() 函数用于检索字符串中的正则表达式的匹配。</span><br><span class="line">如果字符串中有匹配的值，则返回该匹配值，否则返回 <span class="literal">null</span>。</span><br><span class="line">(dom变量)<span class="title class_">RegExpObject</span>.<span class="title function_">exec</span>(string)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&#x27;123456&#x27;</span>.<span class="title function_">replace</span>(<span class="string">&#x27;123&#x27;</span>, <span class="string">&#x27;abc&#x27;</span>) <span class="comment">// 得到的 result 的值为字符串 &#x27;abc456&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/o/</span></span><br><span class="line"><span class="comment">// 输出的结果[&quot;o&quot;, index: 4, input: &quot;hello&quot;, groups: undefined]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pattern.<span class="title function_">exec</span>(str)) </span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;我是&#123;&#123;name&#125;&#125;&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;([a-zA-Z]+)&#125;&#125;/</span></span><br><span class="line"><span class="comment">//()里面的内容提取出来</span></span><br><span class="line"><span class="keyword">var</span> patternResult = pattern.<span class="title function_">exec</span>(str)</span><br><span class="line"><span class="comment">//0: &quot;&#123;&#123;name&#125;&#125;&quot; 1: &quot;name&quot; groups: undefined index: 7 input: &quot;&lt;div&gt;我是&#123;&#123;name&#125;&#125;&lt;/div&gt;&quot;</span></span><br><span class="line"><span class="comment">//length: 2</span></span><br><span class="line">str = str.<span class="title function_">replace</span>(patternResult[<span class="number">0</span>], patternResult[<span class="number">1</span>]) <span class="comment">// replace 函数返回值为替换后的新字符串</span></span><br><span class="line"><span class="comment">// 输出的内容是：&lt;div&gt;我是name&lt;/div&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br></pre></td></tr></table></figure>

<h6 id="使用while循环replace"><a href="#使用while循环replace" class="headerlink" title="使用while循环replace"></a>使用while循环replace</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;&#123;&#123;name&#125;&#125;今年&#123;&#123; age &#125;&#125;岁了&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span></span><br><span class="line"><span class="comment">// * 0次或多次  + 一次或多次  \s 空格</span></span><br><span class="line"><span class="keyword">var</span> patternResult = <span class="literal">null</span></span><br><span class="line"><span class="keyword">while</span>(patternResult = pattern.<span class="title function_">exec</span>(str)) &#123;</span><br><span class="line">   str = str.<span class="title function_">replace</span>(patternResult[<span class="number">0</span>], patternResult[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str) <span class="comment">// 输出 &lt;div&gt;name今年age岁了&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="replace替换为真值"><a href="#replace替换为真值" class="headerlink" title="replace替换为真值"></a>replace替换为真值</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123; <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&lt;div&gt;&#123;&#123;name&#125;&#125;今年&#123;&#123; age &#125;&#125;岁了&lt;/div&gt;&#x27;</span></span><br><span class="line"><span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> patternResult = <span class="literal">null</span></span><br><span class="line"><span class="keyword">while</span> ((patternResult = pattern.<span class="title function_">exec</span>(str))) &#123;</span><br><span class="line">   str = str.<span class="title function_">replace</span>(patternResult[<span class="number">0</span>], data[patternResult[<span class="number">1</span>]])<span class="comment">//&#123;&#123;name&#125;&#125; 替换成 data[name]</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br></pre></td></tr></table></figure>

<h6 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">封装 template 函数</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">template</span>(<span class="params">id, data</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> str = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id).<span class="property">innerHTML</span></span><br><span class="line">  <span class="keyword">var</span> pattern = <span class="regexp">/&#123;&#123;\s*([a-zA-Z]+)\s*&#125;&#125;/</span></span><br><span class="line">  <span class="keyword">var</span> pattResult = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">while</span> ((pattResult = pattern.<span class="title function_">exec</span>(str))) &#123;</span><br><span class="line">    str = str.<span class="title function_">replace</span>(pattResult[<span class="number">0</span>], data[pattResult[<span class="number">1</span>]])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ajax加强版"><a href="#ajax加强版" class="headerlink" title="ajax加强版"></a>ajax加强版</h3><h5 id="XMLHttpRequest的基本使用"><a href="#XMLHttpRequest的基本使用" class="headerlink" title="XMLHttpRequest的基本使用"></a>XMLHttpRequest的基本使用</h5><h6 id="什么XMLHttpRequest"><a href="#什么XMLHttpRequest" class="headerlink" title="什么XMLHttpRequest"></a>什么XMLHttpRequest</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">XMLHttpRequest（简称 xhr）是浏览器提供的 Javascript 对象，通过它，可以请求服务器上的数据资源。之前所学的 jQuery 中的 Ajax 函数，就是基于 xhr 对象封装出来的。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="使用xhr发起GET请求"><a href="#使用xhr发起GET请求" class="headerlink" title="使用xhr发起GET请求"></a>使用xhr发起GET请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 XHR 对象</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// 2. 调用 open 函数，指定 请求方式 与 URL地址</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/getbooks&#x27;</span>)</span><br><span class="line"><span class="comment">// 3. 调用 send 函数，发起 Ajax 请求</span></span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br><span class="line"><span class="comment">// 4. 监听 onreadystatechange 事件</span></span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 4.1 监听 xhr 对象的请求状态 readyState ；与服务器响应的状态 status</span></span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="comment">// 4.2 打印服务器响应回来的数据</span></span><br><span class="line">        consolv  e.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="了解xhr对象的readyState属性"><a href="#了解xhr对象的readyState属性" class="headerlink" title="了解xhr对象的readyState属性"></a>了解xhr对象的readyState属性</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XMLHttpRequest 对象的 readyState 属性，用来表示当前 Ajax 请求所处的状态。每个 Ajax 请求必然处于以下状态中的一个：</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220825005642526.png"></p>
<h6 id="使用xhr发起带参数的GET请求"><a href="#使用xhr发起带参数的GET请求" class="headerlink" title="使用xhr发起带参数的GET请求"></a>使用xhr发起带参数的GET请求</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用 xhr 对象发起带参数的 GET 请求时，只需在调用 xhr.open 期间，为 URL 地址指定参数即可：</span><br><span class="line">// ...省略不必要的代码</span><br><span class="line">xhr.open(&#x27;GET&#x27;, &#x27;http://www.liulongbin.top:3006/api/getbooks?id=1&#x27;)</span><br><span class="line">// ...省略不必要的代码</span><br><span class="line">这种在 URL 地址后面拼接的参数，叫做查询字符串。</span><br></pre></td></tr></table></figure>

<h6 id="什么是查询字符串"><a href="#什么是查询字符串" class="headerlink" title="什么是查询字符串"></a>什么是查询字符串</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">定义：查询字符串（URL 参数）是指在 URL 的末尾加上用于向服务器发送信息的字符串（变量）。</span><br><span class="line">格式：将英文的 ? 放在URL 的末尾，然后再加上 参数＝值 ，想加上多个参数的话，使用 &amp; 符号进行分隔。以这个形式，可以将想要发送给服务器的数据添加到 URL 中。</span><br><span class="line">http://www.liulongbin.top:3006/api/getbooks?id=1&amp;bookname=西游记</span><br><span class="line">//  ?id=1&amp;bookname=西游记</span><br></pre></td></tr></table></figure>

<h6 id="GET请求携带参数的本质"><a href="#GET请求携带参数的本质" class="headerlink" title="GET请求携带参数的本质"></a>GET请求携带参数的本质</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">无论使用 $.<span class="title function_">ajax</span>()，还是使用 $.<span class="title function_">get</span>()，又或者直接使用 xhr 对象发起 <span class="variable constant_">GET</span> 请求，当需要携带参数的时候，本质上，都是直接将参数以查询字符串的形式，追加到 <span class="variable constant_">URL</span> 地址的后面，发送到服务器的。</span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;url&#x27;</span>, &#123;<span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>&#125;, <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;)</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line">$.<span class="title function_">get</span>(<span class="string">&#x27;url?name=zs&amp;age=20&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;)</span><br><span class="line"></span><br><span class="line">$.<span class="title function_">ajax</span>(&#123; <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>, <span class="attr">url</span>: <span class="string">&#x27;url&#x27;</span>, <span class="attr">data</span>: &#123;<span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>&#125;, <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125; &#125;)</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line">$.<span class="title function_">ajax</span>(&#123; <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>, <span class="attr">url</span>: <span class="string">&#x27;url?name=zs&amp;age=20&#x27;</span>, <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125; &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="method-和type"><a href="#method-和type" class="headerlink" title="method 和type"></a>method 和type</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.两者相同点都是在$.ajax中规定请求的方式。</span><br><span class="line">例如写method : &#x27;GET&#x27;和type : &#x27;GET&#x27;在表达的意思中没什么区别</span><br><span class="line">2.两者不同点在于</span><br><span class="line">method属性 是在jQuery1.9版本之后推出的新属性，所以如果引入的是1.9之前的jQuery版本，那么所有使用method属性规定的请求方式将全都作为GET请求处理。</span><br><span class="line">而type属性 无论哪个版本都可以用，不存在兼容性问题。不过还是推荐用method，我认为这个单词或许会更符合编程者的思考习惯</span><br></pre></td></tr></table></figure>

<h5 id="URL编码与解码"><a href="#URL编码与解码" class="headerlink" title="URL编码与解码"></a>URL编码与解码</h5><h6 id="什么是URL编码"><a href="#什么是URL编码" class="headerlink" title="什么是URL编码"></a>什么是URL编码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">URL 地址中，只允许出现英文相关的字母、标点符号、数字，因此，在 URL 地址中不允许出现中文字符。</span><br><span class="line">如果 URL 中需要包含中文这样的字符，则必须对中文字符进行编码（转义）。</span><br><span class="line">URL编码的原则：使用安全的字符（没有特殊用途或者特殊意义的可打印字符）去表示那些不安全的字符。</span><br><span class="line">URL编码原则的通俗理解：使用英文字符去表示非英文字符。</span><br><span class="line">http://www.liulongbin.top:3006/api/getbooks?id=1&amp;bookname=西游记</span><br><span class="line">// 经过 URL 编码之后，URL地址变成了如下格式：</span><br><span class="line">http://www.liulongbin.top:3006/api/getbooks?id=1&amp;bookname=%E8%A5%BF%E6%B8%B8%E8%AE%B0</span><br></pre></td></tr></table></figure>

<h5 id="如何对URL进行编码与解码"><a href="#如何对URL进行编码与解码" class="headerlink" title="如何对URL进行编码与解码"></a>如何对URL进行编码与解码</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">浏览器提供了 URL 编码与解码的 API，分别是：</span><br><span class="line">encodeURI()  编码的函数</span><br><span class="line">decodeURI()  解码的函数</span><br><span class="line"></span><br><span class="line">encodeURI(&#x27;黑马程序员&#x27;)</span><br><span class="line">// 输出字符串  %E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98</span><br><span class="line">decodeURI(&#x27;%E9%BB%91%E9%A9%AC&#x27;)</span><br><span class="line">// 输出字符串  黑马</span><br></pre></td></tr></table></figure>

<h6 id="使用xhr发起POST请求"><a href="#使用xhr发起POST请求" class="headerlink" title="使用xhr发起POST请求"></a>使用xhr发起POST请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建 xhr 对象</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// 2. 调用 open()</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/addbook&#x27;</span>)</span><br><span class="line"><span class="comment">// 3. 设置 Content-Type 属性（固定写法）</span></span><br><span class="line">xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line"><span class="comment">// 4. 调用 send()，同时将数据以查询字符串的形式，提交给服务器</span></span><br><span class="line">xhr.<span class="title function_">send</span>(<span class="string">&#x27;bookname=水浒传&amp;author=施耐庵&amp;publisher=天津图书出版社&#x27;</span>)</span><br><span class="line"><span class="comment">// 5. 监听 onreadystatechange 事件</span></span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="数据交换格式"><a href="#数据交换格式" class="headerlink" title="数据交换格式"></a>数据交换格式</h5><h6 id="什么是数据交换格式"><a href="#什么是数据交换格式" class="headerlink" title="什么是数据交换格式"></a>什么是数据交换格式</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数据交换格式，就是服务器端与客户端之间进行数据传输与交换的格式。</span><br><span class="line">前端领域，经常提及的两种数据交换格式分别是 XML 和 JSON。其中 XML 用的非常少，所以，我们重点要学习的数据交换格式就是 JSON。</span><br></pre></td></tr></table></figure>

<h6 id="什么是XML"><a href="#什么是XML" class="headerlink" title="什么是XML"></a>什么是XML</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">XML 的英文全称是 EXtensible Markup Language，即可扩展标记语言。因此，XML 和 HTML 类似，也是一种标记语言。</span><br><span class="line">XML 和 HTML 虽然都是标记语言，但是，它们两者之间没有任何的关系。</span><br><span class="line">HTML 被设计用来描述网页上的内容，是网页内容的载体</span><br><span class="line">XML 被设计用来传输和存储数据，是数据的载体</span><br></pre></td></tr></table></figure>

<h6 id="XML的缺点"><a href="#XML的缺点" class="headerlink" title="XML的缺点"></a>XML的缺点</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">XML 格式臃肿，和数据无关的代码多，体积大，传输效率低</span><br><span class="line">在 Javascript 中解析 XML 比较麻烦</span><br></pre></td></tr></table></figure>

<h6 id="什么是JSON"><a href="#什么是JSON" class="headerlink" title="什么是JSON"></a>什么是JSON</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">概念：JSON 的英文全称是 JavaScript Object Notation，即“JavaScript 对象表示法”。简单来讲，JSON 就是 Javascript 对象和数组的字符串表示法，它使用文本表示一个 JS 对象或数组的信息，因此，JSON 的本质是字符串。</span><br><span class="line">作用：JSON 是一种轻量级的文本数据交换格式，在作用上类似于 XML，专门用于存储和传输数据，但是 JSON 比 XML 更小、更快、更易解析。</span><br><span class="line">现状：JSON 是在 2001 年开始被推广和使用的数据格式，到现今为止，JSON 已经成为了主流的数据交换格式。</span><br></pre></td></tr></table></figure>

<h6 id="JSON的两种结构"><a href="#JSON的两种结构" class="headerlink" title="JSON的两种结构"></a>JSON的两种结构</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JSON 就是用字符串来表示 Javascript 的对象和数组。所以，JSON 中包含对象和数组两种结构，通过这两种结构的相互嵌套，可以表示各种复杂的数据结构。</span><br><span class="line">对象结构：对象结构在 JSON 中表示为 &#123; &#125; 括起来的内容。数据结构为 &#123; key: value, key: value, … &#125; 的键值对结构。其中，key 必须是使用英文的双引号包裹的字符串，value 的数据类型可以是数字、字符串、布尔值、null、数组、对象6种类型。</span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220825013847238.png" style="zoom:80%;" />

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数组结构：数组结构在 JSON 中表示为 [ ] 括起来的内容。数据结构为 [ &quot;java&quot;, &quot;javascript&quot;, 30, true … ] 。数组中数据的类型可以是数字、字符串、布尔值、null、数组、对象6种类型。</span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220825013903683.png" style="zoom: 67%;" />

<h6 id="JSON语法注意事项"><a href="#JSON语法注意事项" class="headerlink" title="JSON语法注意事项"></a>JSON语法注意事项</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">属性名必须使用双引号包裹</span><br><span class="line">字符串类型的值必须使用双引号包裹</span><br><span class="line">JSON 中不允许使用单引号表示字符串</span><br><span class="line">JSON 中不能写注释</span><br><span class="line">JSON 的最外层必须是对象或数组格式</span><br><span class="line">不能使用 undefined 或函数作为 JSON 的值</span><br><span class="line">JSON 的作用：在计算机与网络之间存储和传输数据。</span><br><span class="line">JSON 的本质：用字符串来表示 Javascript 对象数据或数组数据</span><br></pre></td></tr></table></figure>

<h6 id="JSON和JS对象的关系"><a href="#JSON和JS对象的关系" class="headerlink" title="JSON和JS对象的关系"></a>JSON和JS对象的关系</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JSON 是 JS 对象的字符串表示法，它使用文本表示一个 JS 对象的信息，本质是一个字符串。例如：</span><br><span class="line">//这是一个对象</span><br><span class="line">var obj = &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span><br><span class="line"></span><br><span class="line">//这是一个 JSON 字符串，本质是一个字符串</span><br><span class="line">var json = &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure>

<h6 id="JSON和JS对象的互转"><a href="#JSON和JS对象的互转" class="headerlink" title="JSON和JS对象的互转"></a>JSON和JS对象的互转</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">要实现从 <span class="title class_">JSON</span> 字符串转换为 <span class="variable constant_">JS</span> 对象，使用 <span class="title class_">JSON</span>.<span class="title function_">parse</span>() 方法：</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>)</span><br><span class="line"><span class="comment">//结果是 &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line">要实现从 <span class="variable constant_">JS</span> 对象转换为 <span class="title class_">JSON</span> 字符串，使用 <span class="title class_">JSON</span>.<span class="title function_">stringify</span>() 方法：</span><br><span class="line"><span class="keyword">var</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="attr">a</span>: <span class="string">&#x27;Hello&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;World&#x27;</span>&#125;)</span><br><span class="line"><span class="comment">//结果是 &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line">把数据对象转换为字符串的过程，叫做序列化，例如：调用 <span class="title class_">JSON</span>.<span class="title function_">stringify</span>() 函数的操作，叫做 <span class="title class_">JSON</span> 序列化</span><br><span class="line">把字符串转换为数据对象的过程，叫做反序列化，例如：调用 <span class="title class_">JSON</span>.<span class="title function_">parse</span>() 函数的操作，叫做 <span class="title class_">JSON</span> 反序列化。</span><br></pre></td></tr></table></figure>

<h5 id="封装自己的Ajax函数"><a href="#封装自己的Ajax函数" class="headerlink" title="封装自己的Ajax函数"></a>封装自己的Ajax函数</h5><h6 id="要实现的效果"><a href="#要实现的效果" class="headerlink" title="要实现的效果"></a>要实现的效果</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- <span class="number">1.</span> 导入自定义的ajax函数库 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./itheima.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 2. 调用自定义的 itheima 函数，发起 Ajax 数据请求</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">itheima</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">method</span>: <span class="string">&#x27;请求类型&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">url</span>: <span class="string">&#x27;请求地址&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123; <span class="comment">/* 请求参数对象 */</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123; <span class="comment">// 成功的回调函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)     <span class="comment">// 打印数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">itheima</span>(<span class="params">options</span>)&#123;    </span><br><span class="line">    <span class="comment">// 1.将传过来的data变成查询字符串</span></span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">   <span class="keyword">var</span> qs = <span class="title function_">resolveData</span>(options.<span class="property">data</span>)</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">resolveData</span>(<span class="params">data</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> arr=[]</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> data)&#123;</span><br><span class="line">            arr.<span class="title function_">push</span>(K+<span class="string">&#x27;=&#x27;</span>+data[k])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr.<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line"><span class="comment">//变成大写  </span></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">method</span>.<span class="title function_">toUpperCase</span>() === <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 发起 GET 请求</span></span><br><span class="line">    xhr.<span class="title function_">open</span>(options.<span class="property">method</span>, options.<span class="property">url</span> + <span class="string">&#x27;?&#x27;</span> + qs)</span><br><span class="line">    xhr.<span class="title function_">send</span>()</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (options.<span class="property">method</span>.<span class="title function_">toUpperCase</span>() === <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// 发起 POST 请求</span></span><br><span class="line">    xhr.<span class="title function_">open</span>(options.<span class="property">method</span>, options.<span class="property">url</span>)</span><br><span class="line">    xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line">    xhr.<span class="title function_">send</span>(qs)</span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="comment">// 监听请求状态改变的事件</span></span><br><span class="line">    xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> result = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">      <span class="comment">//xhr.responseText这个数据是个json字符串</span></span><br><span class="line">      options.<span class="title function_">success</span>(result)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="XMLHttpRequest-Level2的新特性"><a href="#XMLHttpRequest-Level2的新特性" class="headerlink" title="XMLHttpRequest Level2的新特性"></a>XMLHttpRequest Level2的新特性</h5><h6 id="旧版XMLHttpRequest的缺点"><a href="#旧版XMLHttpRequest的缺点" class="headerlink" title="旧版XMLHttpRequest的缺点"></a>旧版XMLHttpRequest的缺点</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.只支持文本数据的传输，无法用来读取和上传文件</span><br><span class="line">2.传送和接收数据时，没有进度信息，只能提示有没有完成</span><br></pre></td></tr></table></figure>

<h6 id="XMLHttpRequest-Level2的新功能"><a href="#XMLHttpRequest-Level2的新功能" class="headerlink" title="XMLHttpRequest Level2的新功能"></a>XMLHttpRequest Level2的新功能</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.可以设置 HTTP 请求的时限</span><br><span class="line">2.可以使用 FormData 对象管理表单数据</span><br><span class="line">3.可以上传文件</span><br><span class="line">4.可以获得数据传输的进度信息</span><br></pre></td></tr></table></figure>

<h6 id="设置HTTP请求时限"><a href="#设置HTTP请求时限" class="headerlink" title="设置HTTP请求时限"></a>设置HTTP请求时限</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有时，Ajax 操作很耗时，而且无法预知要花多少时间。如果网速很慢，用户可能要等很久。新版本的 XMLHttpRequest 对象，增加了 timeout 属性，可以设置 HTTP 请求的时限：</span></span><br><span class="line">xhr.<span class="property">timeout</span> = <span class="number">3000</span></span><br><span class="line"><span class="comment">//上面的语句，将最长等待时间设为 3000 毫秒。过了这个时限，就自动停止HTTP请求。与之配套的还有一个 timeout 事件，用来指定回调函数：</span></span><br><span class="line"> xhr.<span class="property">ontimeout</span> = <span class="keyword">function</span>(<span class="params">event</span>)&#123;</span><br><span class="line">     <span class="title function_">alert</span>(<span class="string">&#x27;请求超时！&#x27;</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h6 id="FormData对象管理表单数据"><a href="#FormData对象管理表单数据" class="headerlink" title="FormData对象管理表单数据"></a>FormData对象管理表单数据</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Ajax</span> 操作往往用来提交表单数据。为了方便表单处理，<span class="title class_">HTML5</span> 新增了一个 <span class="title class_">FormData</span> 对象，可以模拟表单操作：</span><br><span class="line">      <span class="comment">// 1. 新建 FormData 对象</span></span><br><span class="line">      <span class="keyword">var</span> fd = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 2. 为 FormData 添加表单项</span></span><br><span class="line">      fd.<span class="title function_">append</span>(<span class="string">&#x27;uname&#x27;</span>, <span class="string">&#x27;zs&#x27;</span>)</span><br><span class="line">      fd.<span class="title function_">append</span>(<span class="string">&#x27;upwd&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 3. 创建 XHR 对象</span></span><br><span class="line">      <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 4. 指定请求类型与URL地址</span></span><br><span class="line">      xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/formdata&#x27;</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 5. 直接提交 FormData 对象，这与提交网页表单的效果，完全一样</span></span><br><span class="line">      xhr.<span class="title function_">send</span>(fd)</span><br></pre></td></tr></table></figure>

<h6 id="FormData对象管理表单数据-1"><a href="#FormData对象管理表单数据-1" class="headerlink" title="FormData对象管理表单数据"></a>FormData对象管理表单数据</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取表单元素</span></span><br><span class="line"> <span class="keyword">var</span> form = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#form1&#x27;</span>)</span><br><span class="line"> <span class="comment">// 监听表单元素的 submit 事件</span></span><br><span class="line"> form.<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>()</span><br><span class="line">     <span class="comment">// 根据 form 表单创建 FormData 对象，会自动将表单数据填充到 FormData 对象中</span></span><br><span class="line">     <span class="keyword">var</span> fd = <span class="keyword">new</span> <span class="title class_">FormData</span>(form)</span><br><span class="line">     <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">     xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/formdata&#x27;</span>)</span><br><span class="line">     xhr.<span class="title function_">send</span>(fd)</span><br><span class="line">     xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">新版 <span class="title class_">XMLHttpRequest</span> 对象，不仅可以发送文本信息，还可以上传文件。</span><br><span class="line">实现步骤：</span><br><span class="line"><span class="number">1.</span>定义 <span class="variable constant_">UI</span> 结构</span><br><span class="line">&lt;!-- <span class="number">1.</span> 文件选择框 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file1&quot;</span> /&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">2.</span> 上传按钮 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btnUpload&quot;</span>&gt;</span>上传文件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">3.</span> 显示上传到服务器上的图片 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>验证是否选择了文件</span><br><span class="line"> <span class="comment">// 1. 获取上传文件的按钮</span></span><br><span class="line"> <span class="keyword">var</span> btnUpload = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btnUpload&#x27;</span>)</span><br><span class="line"> <span class="comment">// 2. 为按钮添加 click 事件监听</span></span><br><span class="line"> btnUpload.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="comment">// 3. 获取到选择的文件列表</span></span><br><span class="line">     <span class="keyword">var</span> files = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#file1&#x27;</span>).<span class="property">files</span></span><br><span class="line">     <span class="keyword">if</span> (files.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;请选择要上传的文件！&#x27;</span>)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">// ...后续业务逻辑</span></span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>向 <span class="title class_">FormData</span> 中追加文件</span><br><span class="line"><span class="comment">// 1. 创建 FormData 对象</span></span><br><span class="line"> <span class="keyword">var</span> fd = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span><br><span class="line"> <span class="comment">// 2. 向 FormData 中追加文件</span></span><br><span class="line"> fd.<span class="title function_">append</span>(<span class="string">&#x27;avatar&#x27;</span>, files[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>使用 xhr 发起上传文件的请求</span><br><span class="line">/ <span class="number">1.</span> 创建 xhr 对象</span><br><span class="line"> <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"> <span class="comment">// 2. 调用 open 函数，指定请求类型与URL地址。其中，请求类型必须为 POST</span></span><br><span class="line"> xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/upload/avatar&#x27;</span>)</span><br><span class="line"> <span class="comment">// 3. 发起请求</span></span><br><span class="line"> xhr.<span class="title function_">send</span>(fd)</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>监听 onreadystatechange 事件</span><br><span class="line">xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">status</span> === <span class="number">200</span>) &#123; <span class="comment">// 上传文件成功</span></span><br><span class="line">      <span class="comment">// 将服务器返回的图片地址，设置为 &lt;img&gt; 标签的 src 属性</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#img&#x27;</span>).<span class="property">src</span> = <span class="string">&#x27;http://www.liulongbin.top:3006&#x27;</span> + data.<span class="property">url</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// 上传文件失败</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">message</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="FormData对象管理表单数据-2"><a href="#FormData对象管理表单数据-2" class="headerlink" title="FormData对象管理表单数据"></a>FormData对象管理表单数据</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">FormData</span>对象也可以用来获取网页表单的值，示例代码如下：</span><br><span class="line"><span class="comment">// 获取表单元素</span></span><br><span class="line"> <span class="keyword">var</span> form = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#form1&#x27;</span>)</span><br><span class="line"> <span class="comment">// 监听表单元素的 submit 事件</span></span><br><span class="line"> form.<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="title function_">preventDefault</span>()</span><br><span class="line">     <span class="comment">// 根据 form 表单创建 FormData 对象，会自动将表单数据填充到 FormData 对象中</span></span><br><span class="line">     <span class="keyword">var</span> fd = <span class="keyword">new</span> <span class="title class_">FormData</span>(form)</span><br><span class="line">     <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">     xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/formdata&#x27;</span>)</span><br><span class="line">     xhr.<span class="title function_">send</span>(fd)</span><br><span class="line">     xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220825142439505.png" style="zoom:80%;" />

<h6 id="上传文件-1"><a href="#上传文件-1" class="headerlink" title="上传文件"></a>上传文件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">新版 <span class="title class_">XMLHttpRequest</span> 对象，不仅可以发送文本信息，还可以上传文件。</span><br><span class="line">实现步骤：</span><br><span class="line"><span class="number">1.</span> 定义<span class="variable constant_">UI</span>结构</span><br><span class="line"> &lt;!-- <span class="number">1.</span> 文件选择框 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file1&quot;</span> /&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">2.</span> 上传按钮 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btnUpload&quot;</span>&gt;</span>上传文件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">3.</span> 显示上传到服务器上的图片 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;img&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>验证是否选择了文件</span><br><span class="line"><span class="comment">// 1. 获取上传文件的按钮</span></span><br><span class="line"> <span class="keyword">var</span> btnUpload = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btnUpload&#x27;</span>)</span><br><span class="line"> <span class="comment">// 2. 为按钮添加 click 事件监听</span></span><br><span class="line"> btnUpload.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="comment">// 3. 获取到选择的文件列表  文件dom对象</span></span><br><span class="line">     <span class="keyword">var</span> files = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#file1&#x27;</span>).<span class="property">files</span></span><br><span class="line">     <span class="keyword">if</span> (files.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;请选择要上传的文件！&#x27;</span>)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="comment">// ...后续业务逻辑</span></span><br><span class="line">     <span class="number">3.</span>向 <span class="title class_">FormData</span> 中追加文件</span><br><span class="line">    <span class="comment">// 1. 创建 FormData 对象</span></span><br><span class="line">     <span class="keyword">var</span> fd = <span class="keyword">new</span> <span class="title class_">FormData</span>()</span><br><span class="line">     <span class="comment">// 2. 向 FormData 中追加文件</span></span><br><span class="line">     fd.<span class="title function_">append</span>(<span class="string">&#x27;avatar&#x27;</span>, files[<span class="number">0</span>])</span><br><span class="line">     <span class="number">4.</span>使用 xhr 发起上传文件的请求   </span><br><span class="line">     <span class="comment">// 1. 创建 xhr 对象</span></span><br><span class="line">     <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">     <span class="comment">// 2. 调用 open 函数，指定请求类型与URL地址。其中，请求类型必须为 POST</span></span><br><span class="line">     xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://www.liulongbin.top:3006/api/upload/avatar&#x27;</span>)</span><br><span class="line">     <span class="comment">// 3. 发起请求</span></span><br><span class="line">     xhr.<span class="title function_">send</span>(fd)</span><br><span class="line">     </span><br><span class="line">     <span class="number">5.</span>监听 onreadystatechange 事件</span><br><span class="line">    xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">        <span class="keyword">if</span> (data.<span class="property">status</span> === <span class="number">200</span>) &#123; <span class="comment">// 上传文件成功</span></span><br><span class="line">          <span class="comment">// 将服务器返回的图片地址，设置为 &lt;img&gt; 标签的 src 属性</span></span><br><span class="line">          <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#img&#x27;</span>).<span class="property">src</span> = <span class="string">&#x27;http://www.liulongbin.top:3006&#x27;</span> + data.<span class="property">url</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 上传文件失败</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">message</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h6 id="显示文件上传进度"><a href="#显示文件上传进度" class="headerlink" title="显示文件上传进度"></a>显示文件上传进度</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">新版本的 <span class="title class_">XMLHttpRequest</span> 对象中，可以通过监听 xhr.<span class="property">upload</span>.<span class="property">onprogress</span> 事件，来获取到文件的上传进度。语法格式如下：</span><br><span class="line"> <span class="comment">// 创建 XHR 对象</span></span><br><span class="line"> <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"> <span class="comment">// 监听 xhr.upload 的 onprogress 事件</span></span><br><span class="line"> xhr.<span class="property">upload</span>.<span class="property">onprogress</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">// e.lengthComputable 是一个布尔值，表示当前上传的资源是否具有可计算的长度</span></span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">lengthComputable</span>) &#123;</span><br><span class="line">        <span class="comment">// e.loaded 已传输的字节</span></span><br><span class="line">        <span class="comment">// e.total  需传输的总字节</span></span><br><span class="line">        <span class="keyword">var</span> percentComplete = <span class="title class_">Math</span>.<span class="title function_">ceil</span>((e.<span class="property">loaded</span> / e.<span class="property">total</span>) * <span class="number">100</span>)</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="导入需要的库"><a href="#导入需要的库" class="headerlink" title="导入需要的库"></a>导入需要的库</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;./lib/bootstrap.css&quot;</span> /&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="基于Bootstrap渲染进度条"><a href="#基于Bootstrap渲染进度条" class="headerlink" title="基于Bootstrap渲染进度条"></a>基于Bootstrap渲染进度条</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 进度条 --&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 500px; margin: 10px 0;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar progress-bar-info progress-bar-striped active&quot;</span> <span class="attr">id</span>=<span class="string">&quot;percent&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 0%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       0%</span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="监听上传进度的事件"><a href="#监听上传进度的事件" class="headerlink" title="监听上传进度的事件"></a>监听上传进度的事件</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">xhr.<span class="property">upload</span>.<span class="property">onprogress</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">lengthComputable</span>) &#123;</span><br><span class="line">    <span class="comment">// 1. 计算出当前上传进度的百分比</span></span><br><span class="line">    <span class="keyword">var</span> percentComplete = <span class="title class_">Math</span>.<span class="title function_">ceil</span>((e.<span class="property">loaded</span> / e.<span class="property">total</span>) * <span class="number">100</span>)</span><br><span class="line">    $(<span class="string">&#x27;#percent&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;style&#x27;</span>, <span class="string">&#x27;width:&#x27;</span> + percentComplete + <span class="string">&#x27;%&#x27;</span>).<span class="title function_">html</span>(percentComplete + <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">        <span class="comment">// 2. 设置进度条的宽度 </span></span><br><span class="line">        <span class="comment">// 3. 显示当前的上传进度百分比     </span></span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="jQuery高级用法"><a href="#jQuery高级用法" class="headerlink" title="jQuery高级用法"></a>jQuery高级用法</h5><h6 id="jQuery实现文件上传"><a href="#jQuery实现文件上传" class="headerlink" title="jQuery实现文件上传"></a>jQuery实现文件上传</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 定义<span class="variable constant_">UI</span>结构</span><br><span class="line"> &lt;!-- 导入 jQuery --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/jquery.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    &lt;!-- 文件选择框 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;file1&quot;</span> /&gt;</span></span></span><br><span class="line">    &lt;!-- 上传文件按钮 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btnUpload&quot;</span>&gt;</span>上传<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 验证是否选择了文件</span><br><span class="line">$(<span class="string">&#x27;#btnUpload&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="comment">// 1. [0]的作用 将 jQuery 对象转化为 DOM 对象，并获取选中的文件列表</span></span><br><span class="line">     <span class="keyword">var</span> files = $(<span class="string">&#x27;#file1&#x27;</span>)[<span class="number">0</span>].<span class="property">files</span></span><br><span class="line">     <span class="comment">// 2. 判断是否选择了文件</span></span><br><span class="line">     <span class="keyword">if</span> (files.<span class="property">length</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="title function_">alert</span>(<span class="string">&#x27;请选择图片后再上传！‘)</span></span><br><span class="line"><span class="string">     &#125;</span></span><br><span class="line"><span class="string">      3. 向FormData中追加文件</span></span><br><span class="line"><span class="string">    // 向 FormData 中追加文件</span></span><br><span class="line"><span class="string">     var fd = new FormData()</span></span><br><span class="line"><span class="string">     fd.append(&#x27;</span>avatar<span class="string">&#x27;, files[0])</span></span><br><span class="line"><span class="string">         </span></span><br><span class="line"><span class="string">         </span></span><br><span class="line"><span class="string">      4. 使用jQuery发起上传文件的请求</span></span><br><span class="line"><span class="string">    $.ajax(&#123;</span></span><br><span class="line"><span class="string">         method: &#x27;</span><span class="variable constant_">POST</span><span class="string">&#x27;,</span></span><br><span class="line"><span class="string">         url: &#x27;</span><span class="attr">http</span>:<span class="comment">//www.liulongbin.top:3006/api/upload/avatar&#x27;,</span></span><br><span class="line">         <span class="attr">data</span>: fd,</span><br><span class="line">         <span class="comment">// 不修改 Content-Type 属性，使用 FormData 默认的 Content-Type 值</span></span><br><span class="line">         <span class="attr">contentType</span>: <span class="literal">false</span>,</span><br><span class="line">         <span class="comment">// 不对 FormData 中的数据进行 url 编码，而是将 FormData 数据原样发送到服务器</span></span><br><span class="line">         <span class="attr">processData</span>: <span class="literal">false</span>,</span><br><span class="line">         <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">             <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">        </span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h6 id="jQuery实现loading效果"><a href="#jQuery实现loading效果" class="headerlink" title="jQuery实现loading效果"></a>jQuery实现loading效果</h6><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220825174950695.png" style="zoom:33%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Ajax</span> 请求开始时，执行 ajaxStart 函数。可以在 ajaxStart 的 callback 中显示 loading 效果，示例代码如下：</span><br><span class="line"><span class="comment">// 自 jQuery 版本 1.8 起，该方法只能被附加到文档</span></span><br><span class="line"> $(<span class="variable language_">document</span>).<span class="title function_">ajaxStart</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">     $(<span class="string">&#x27;#loading&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line"> &#125;)</span><br><span class="line">注意： $(<span class="variable language_">document</span>).<span class="title function_">ajaxStart</span>() 函数会监听当前文档内所有的 <span class="title class_">Ajax</span> 请求。</span><br><span class="line"></span><br><span class="line"><span class="title class_">Ajax</span> 请求结束时，执行 ajaxStop 函数。可以在 ajaxStop 的 callback 中隐藏 loading 效果，示例代码如下：</span><br><span class="line"><span class="comment">// 自 jQuery 版本 1.8 起，该方法只能被附加到文档</span></span><br><span class="line"> $(<span class="variable language_">document</span>).<span class="title function_">ajaxStop</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">     $(<span class="string">&#x27;#loading&#x27;</span>).<span class="title function_">hide</span>()</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h6 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Axios 是专注于网络数据请求的库。</span><br><span class="line">相比于原生的 XMLHttpRequest 对象，axios 简单易用。</span><br><span class="line">相比于 jQuery，axios 更加轻量化，只专注于网络数据请求。</span><br><span class="line">需要导包的</span><br></pre></td></tr></table></figure>

<h6 id="axios发起GET请求"><a href="#axios发起GET请求" class="headerlink" title="axios发起GET请求"></a>axios发起GET请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> axios.<span class="title function_">get</span>(<span class="string">&#x27;url&#x27;</span>, &#123; <span class="attr">params</span>: &#123; <span class="comment">/*参数*/</span> &#125; &#125;).<span class="title function_">then</span>(callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求的 URL 地址</span></span><br><span class="line"> <span class="keyword">var</span> url = <span class="string">&#x27;http://www.liulongbin.top:3006/api/get&#x27;</span></span><br><span class="line"> <span class="comment">// 请求的参数对象</span></span><br><span class="line"> <span class="keyword">var</span> paramsObj = &#123; <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line"> <span class="comment">// 调用 axios.get() 发起 GET 请求</span></span><br><span class="line"> axios.<span class="title function_">get</span>(url, &#123; <span class="attr">params</span>: paramsObj &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="comment">// res.data 是服务器返回的数据</span></span><br><span class="line">     <span class="keyword">var</span> result = res.<span class="property">data</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h6 id="axios发起POST请求"><a href="#axios发起POST请求" class="headerlink" title="axios发起POST请求"></a>axios发起POST请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;url&#x27;</span>, &#123; <span class="comment">/*参数*/</span> &#125;).<span class="title function_">then</span>(callback)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 请求的 URL 地址</span></span><br><span class="line"> <span class="keyword">var</span> url = <span class="string">&#x27;http://www.liulongbin.top:3006/api/post&#x27;</span></span><br><span class="line"> <span class="comment">// 要提交到服务器的数据</span></span><br><span class="line"> <span class="keyword">var</span> dataObj = &#123; <span class="attr">location</span>: <span class="string">&#x27;北京&#x27;</span>, <span class="attr">address</span>: <span class="string">&#x27;顺义&#x27;</span> &#125;</span><br><span class="line"> <span class="comment">// 调用 axios.post() 发起 POST 请求</span></span><br><span class="line"> axios.<span class="title function_">post</span>(url, dataObj).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="comment">// res.data 是服务器返回的数据</span></span><br><span class="line">     <span class="keyword">var</span> result = res.<span class="property">data</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="直接使用axios发起请求"><a href="#直接使用axios发起请求" class="headerlink" title="直接使用axios发起请求"></a>直接使用axios发起请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">     <span class="attr">method</span>: <span class="string">&#x27;请求类型&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>: <span class="string">&#x27;请求的URL地址&#x27;</span>,</span><br><span class="line">     <span class="attr">data</span>: &#123; <span class="comment">/* POST数据 */</span> &#125;,</span><br><span class="line">     <span class="attr">params</span>: &#123; <span class="comment">/* GET参数 */</span> &#125;</span><br><span class="line"> &#125;) .<span class="title function_">then</span>(callback)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="直接使用axios发起GET请求"><a href="#直接使用axios发起GET请求" class="headerlink" title="直接使用axios发起GET请求"></a>直接使用axios发起GET请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">     <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>: <span class="string">&#x27;http://www.liulongbin.top:3006/api/get&#x27;</span>,</span><br><span class="line">     <span class="attr">params</span>: &#123; <span class="comment">// GET 参数要通过 params 属性提供</span></span><br><span class="line">         <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">         <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="直接使用axios发起POST请求"><a href="#直接使用axios发起POST请求" class="headerlink" title="直接使用axios发起POST请求"></a>直接使用axios发起POST请求</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">     <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>: <span class="string">&#x27;http://www.liulongbin.top:3006/api/post&#x27;</span>,</span><br><span class="line">     <span class="attr">data</span>: &#123; <span class="comment">// POST 数据要通过 data 属性提供</span></span><br><span class="line">         <span class="attr">bookname</span>: <span class="string">&#x27;程序员的自我修养&#x27;</span>,</span><br><span class="line">         <span class="attr">price</span>: <span class="number">666</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="跨域与JSONP"><a href="#跨域与JSONP" class="headerlink" title="跨域与JSONP"></a>跨域与JSONP</h4><h5 id="了解同源策略和跨域"><a href="#了解同源策略和跨域" class="headerlink" title="了解同源策略和跨域"></a>了解同源策略和跨域</h5><h6 id="什么是同源"><a href="#什么是同源" class="headerlink" title="什么是同源"></a>什么是同源</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果两个页面的协议，域名和端口都相同，则两个页面具有相同的源。(同源指的是两个 URL 的协议、域名、端口一致)</span><br><span class="line">例如，下表给出了相对于 http://www.test.com/index.html 页面的同源检测：</span><br><span class="line">http  是协议  www.test.com是域名 :80是端口 80端口是默认不用写</span><br></pre></td></tr></table></figure>

<h6 id="什么是同源策略"><a href="#什么是同源策略" class="headerlink" title="什么是同源策略"></a>什么是同源策略</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">同源策略（英文全称 Same origin policy）是浏览器提供的一个安全功能。</span><br><span class="line">MDN 官方给定的概念：同源策略限制了从同一个源加载的文档或脚本如何与来自另一个源的资源进行交互。这是一个用于隔离潜在恶意文件的重要安全机制。</span><br><span class="line">通俗的理解：浏览器规定，A 网站的 JavaScript，不允许和非同源的网站 C 之间，进行资源的交互，例如：</span><br><span class="line">无法读取非同源网页的 Cookie、LocalStorage 和 IndexedDB</span><br><span class="line">无法接触非同源网页的 DOM</span><br><span class="line">无法向非同源地址发送 Ajax 请求</span><br></pre></td></tr></table></figure>

<h6 id="什么是跨域"><a href="#什么是跨域" class="headerlink" title="什么是跨域"></a>什么是跨域</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">同源指的是两个 URL 的协议、域名、端口一致，反之，则是跨域。</span><br><span class="line">出现跨域的根本原因：浏览器的同源策略不允许非同源的 URL 之间进行资源的交互。</span><br><span class="line">网页:http://www.test.com/index.html</span><br><span class="line">接口:http://www.api.com/userlist</span><br></pre></td></tr></table></figure>

<h6 id="浏览器对跨域请求的拦截"><a href="#浏览器对跨域请求的拦截" class="headerlink" title="浏览器对跨域请求的拦截"></a>浏览器对跨域请求的拦截</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意：浏览器允许发起跨域请求，但是，跨域请求回来的数据，会被浏览器拦截，无法被页面获取到！</span><br></pre></td></tr></table></figure>

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220825191047228.png" style="zoom:80%;" />

<h6 id="如何实现跨域数据请求"><a href="#如何实现跨域数据请求" class="headerlink" title="如何实现跨域数据请求"></a>如何实现跨域数据请求</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">现如今，实现跨域数据请求，最主要的两种解决方案，分别是 JSONP 和 CORS。</span><br><span class="line">JSONP：出现的早，兼容性好（兼容低版本IE）。是前端程序员为了解决跨域问题，被迫想出来的一种临时解决方案。缺点是只支持 GET 请求，不支持 POST 请求。</span><br><span class="line">CORS：出现的较晚，它是 W3C 标准，属于跨域 Ajax 请求的根本解决方案。支持 GET 和 POST 请求。缺点是不兼容某些低版本的浏览器。</span><br></pre></td></tr></table></figure>

<h5 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h5><h6 id="什么是JSONP"><a href="#什么是JSONP" class="headerlink" title="什么是JSONP"></a>什么是JSONP</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSONP (JSON with Padding) 是 JSON 的一种“使用模式”，可用于解决主流浏览器的跨域数据访问的问题。</span><br></pre></td></tr></table></figure>

<h6 id="JSONP的实现原理"><a href="#JSONP的实现原理" class="headerlink" title="JSONP的实现原理"></a>JSONP的实现原理</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">由于浏览器同源策略的限制，网页中无法通过 Ajax 请求非同源的接口数据。但是 &lt;script&gt; 标签不受浏览器同源策略的影响，可以通过 src 属性，请求非同源的 js 脚本。</span><br><span class="line">因此，JSONP 的实现原理，就是通过 &lt;script&gt; 标签的 src 属性，请求跨域的数据接口，并通过函数调用的形式，接收跨域接口响应回来的数据。</span><br></pre></td></tr></table></figure>

<h6 id="自己实现一个简单的JSONP"><a href="#自己实现一个简单的JSONP" class="headerlink" title="自己实现一个简单的JSONP"></a>自己实现一个简单的JSONP</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;            <span class="title class_">JSON</span>P的实现原理<span class="comment">//</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">success</span>(<span class="params">data</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取到了data数据：&#x27;</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">   &#125;</span><br><span class="line"> &lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="title function_">success</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)<span class="comment">//可以调用 同一页面下script 内容共享 </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="title class_">JSON</span>P的实现原理<span class="number">2</span><span class="comment">//</span></span><br><span class="line">&lt;!--把 <span class="title function_">success</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)放在一个js的文件中--&gt;</span><br><span class="line"><span class="comment">//  01.js</span></span><br><span class="line"><span class="title function_">success</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span><br><span class="line">&lt;!--在html页面中调用<span class="number">01</span>.<span class="property">js</span>--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">success</span>(<span class="params">data</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取到了data数据：&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;./01.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>   <span class="comment">//可以调用函数</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;./01.js？callback=success&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> </span><br><span class="line">通过callback回调函数告诉<span class="number">01</span>.<span class="property">js</span>要调用哪个函数 如果<span class="number">01</span>.<span class="title function_">js</span>(里面可以有很多函数)不含（success）这个函数 就不会调用</span><br><span class="line"><span class="comment">///</span></span><br><span class="line">&lt;script src=<span class="string">&quot;http://ajax.frontend.itheima.net:3006/api/jsonp?callback=success&amp;name=zs&amp;age=20&quot;</span>&gt;&lt;/script&gt; </span><br><span class="line"><span class="comment">//callback=success  调用什么函数通过这个指定  返回一个名字叫（success）的函数调用，而这个函数自己写</span></span><br></pre></td></tr></table></figure>

<h6 id="JSONP的缺点"><a href="#JSONP的缺点" class="headerlink" title="JSONP的缺点"></a>JSONP的缺点</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">由于 JSONP 是通过 &lt;script&gt; 标签的 src 属性，来实现跨域数据获取的，所以，JSONP 只支持 GET 数据请求，不支持 POST 请求。</span><br><span class="line"></span><br><span class="line">注意：JSONP 和 Ajax 之间没有任何关系，不能把 JSONP 请求数据的方式叫做 Ajax，因为 JSONP 没有用到 XMLHttpRequest 这个对象。</span><br></pre></td></tr></table></figure>

<h6 id="jQuery中的JSONP"><a href="#jQuery中的JSONP" class="headerlink" title="jQuery中的JSONP"></a>jQuery中的JSONP</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery 提供的 $.<span class="title function_">ajax</span>() 函数，除了可以发起真正的 <span class="title class_">Ajax</span> 数据请求之外，还能够发起 <span class="title class_">JSON</span>P 数据请求，例如：</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;http://ajax.frontend.itheima.net:3006/api/jsonp?name=zs&amp;age=20&#x27;</span>,</span><br><span class="line">    <span class="comment">// 如果要使用 $.ajax() 发起 JSONP 请求，必须指定 datatype 为 jsonp</span></span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;)</span><br><span class="line">默认情况下，使用 jQuery 发起 <span class="title class_">JSON</span>P 请求，会自动携带一个 callback=jQueryxxx 的参数，jQueryxxx 是随机生成的一个回调函数名称。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="自定义参数及回调函数名称"><a href="#自定义参数及回调函数名称" class="headerlink" title="自定义参数及回调函数名称"></a>自定义参数及回调函数名称</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">   <span class="attr">url</span>: <span class="string">&#x27;http://ajax.frontend.itheima.net:3006/api/jsonp?name=zs&amp;age=20&#x27;</span>,</span><br><span class="line">   <span class="attr">dataType</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">   <span class="comment">// 发送到服务端的参数名称，默认值为 callback</span></span><br><span class="line">   <span class="attr">jsonp</span>: <span class="string">&#x27;callback&#x27;</span>,</span><br><span class="line">   <span class="comment">// 自定义的回调函数名称，默认值为 jQueryxxx 格式</span></span><br><span class="line">   <span class="attr">jsonpCallback</span>: <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">   <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="jQuery中JSONP的实现过程"><a href="#jQuery中JSONP的实现过程" class="headerlink" title="jQuery中JSONP的实现过程"></a>jQuery中JSONP的实现过程</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jQuery 中的 JSONP，也是通过 &lt;script&gt; 标签的 src 属性实现跨域数据访问的，只不过，jQuery 采用的是动态创建和移除 &lt;script&gt; 标签的方式，来发起 JSONP 数据请求。</span><br><span class="line">在发起 JSONP 请求的时候，动态向 &lt;header&gt; 中 append 一个 &lt;script&gt; 标签；</span><br><span class="line">在 JSONP 请求成功以后，动态从 &lt;header&gt; 中移除刚才 append 进去的 &lt;script&gt; 标签；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="防抖和节流"><a href="#防抖和节流" class="headerlink" title="防抖和节流"></a>防抖和节流</h5><h6 id="什么是防抖"><a href="#什么是防抖" class="headerlink" title="什么是防抖"></a>什么是防抖</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">防抖策略（debounce）是当事件被触发后，延迟 n 秒后再执行回调，如果在这 n 秒内事件又被触发，则重新计时。</span><br><span class="line">像是回城 会被打断</span><br></pre></td></tr></table></figure>

<h6 id="防抖的应用场景"><a href="#防抖的应用场景" class="headerlink" title="防抖的应用场景"></a>防抖的应用场景</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户在输入框中连续输入一串字符时，可以通过防抖策略，只在输入完后，才执行查询的请求，这样可以有效减少请求次数，节约请求资源；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="实现输入框的防抖"><a href="#实现输入框的防抖" class="headerlink" title="实现输入框的防抖"></a>实现输入框的防抖</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>                    <span class="comment">// 1. 防抖动的 timer</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">debounceSearch</span>(<span class="params">keywords</span>) &#123; <span class="comment">// 2. 定义防抖的函数</span></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 发起 JSONP 请求</span></span><br><span class="line">    <span class="title function_">getSuggestList</span>(keywords)</span><br><span class="line">    &#125;, <span class="number">500</span>)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> $(<span class="string">&#x27;#ipt&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;keyup&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;  <span class="comment">// 3. 在触发 keyup 事件时，立即清空 timer</span></span><br><span class="line">    <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">    <span class="comment">// ...省略其他代码</span></span><br><span class="line">    <span class="title function_">debounceSearch</span>(keywords)</span><br><span class="line"> &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="定义全局缓存对象"><a href="#定义全局缓存对象" class="headerlink" title="定义全局缓存对象"></a>定义全局缓存对象</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 缓存对象</span><br><span class="line">  var cacheObj = &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="将搜索结果保存到缓存对象中"><a href="#将搜索结果保存到缓存对象中" class="headerlink" title="将搜索结果保存到缓存对象中"></a>将搜索结果保存到缓存对象中</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 渲染建议列表</span><br><span class="line">function renderSuggestList(res) &#123;</span><br><span class="line">   // ...省略其他代码</span><br><span class="line">   // 将搜索的结果，添加到缓存对象中</span><br><span class="line">   var k = $(&#x27;#ipt&#x27;).val().trim()</span><br><span class="line">   cacheObj[k] = res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="优先从缓存中获取搜索建议"><a href="#优先从缓存中获取搜索建议" class="headerlink" title="优先从缓存中获取搜索建议"></a>优先从缓存中获取搜索建议</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 监听文本框的 keyup 事件</span><br><span class="line"> $(&#x27;#ipt&#x27;).on(&#x27;keyup&#x27;, function() &#123;</span><br><span class="line">    // ...省略其他代码</span><br><span class="line"></span><br><span class="line">    // 优先从缓存中获取搜索建议</span><br><span class="line">    if (cacheObj[keywords]) &#123;</span><br><span class="line">       return renderSuggestList(cacheObj[keywords])</span><br><span class="line">    &#125;</span><br><span class="line">    // 获取搜索建议列表</span><br><span class="line">    debounceSearch(keywords)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="什么是节流"><a href="#什么是节流" class="headerlink" title="什么是节流"></a>什么是节流</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">节流策略（throttle），顾名思义，可以减少一段时间内事件的触发频率。</span><br><span class="line">释放技能有冷却</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">鼠标连续不断地触发某事件（如点击），只在单位时间内只触发一次；</span><br><span class="line">懒加载时要监听计算滚动条的位置，但不必每次滑动都触发，可以降低计算的频率，而不必去浪费 CPU 资源；</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> angel = $(<span class="string">&#x27;#angel&#x27;</span>)</span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span> <span class="comment">// 1.预定义一个 timer 节流阀</span></span><br><span class="line">  $(<span class="variable language_">document</span>).<span class="title function_">on</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) &#123; <span class="keyword">return</span> &#125; <span class="comment">// 3.判断节流阀是否为空，如果不为空，则证明距离上次执行间隔不足16毫秒</span></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      $(angel).<span class="title function_">css</span>(<span class="string">&#x27;left&#x27;</span>, e.<span class="property">pageX</span> + <span class="string">&#x27;px&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;top&#x27;</span>, e.<span class="property">pageY</span> + <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">      timer = <span class="literal">null</span> <span class="comment">// 2.当设置了鼠标跟随效果后，清空 timer 节流阀，方便下次开启延时器</span></span><br><span class="line">    &#125;, <span class="number">16</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">防抖：如果事件被频繁触发，防抖能保证只有最有一次触发生效！前面 N 多次的触发都会被忽略！</span><br><span class="line">节流：如果事件被频繁触发，节流能够减少事件触发的频率，因此，节流是有选择性地执行一部分事件！</span><br></pre></td></tr></table></figure>

<h5 id="HTTP协议简介"><a href="#HTTP协议简介" class="headerlink" title="HTTP协议简介"></a>HTTP协议简介</h5><h6 id="什么是通信"><a href="#什么是通信" class="headerlink" title="什么是通信"></a>什么是通信</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">通信，就是信息的传递和交换。</span><br><span class="line">通信三要素：</span><br><span class="line">通信的主体</span><br><span class="line">通信的内容</span><br><span class="line">通信的方式</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="现实生活中的通信"><a href="#现实生活中的通信" class="headerlink" title="现实生活中的通信"></a>现实生活中的通信</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">案例：张三要把自己考上传智专修学院的好消息写信告诉自己的好朋友李四。</span><br><span class="line"></span><br><span class="line">其中：</span><br><span class="line">通信的主体是张三和李四；</span><br><span class="line">通信的内容是考上传智专修学院；</span><br><span class="line">通信的方式是写信；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="互联网中的通信"><a href="#互联网中的通信" class="headerlink" title="互联网中的通信"></a>互联网中的通信</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">案例：服务器把传智专修学院的简介通过响应的方式发送给客户端浏览器。</span><br><span class="line"></span><br><span class="line">其中，</span><br><span class="line">通信的主体是服务器和客户端浏览器；</span><br><span class="line">通信的内容是传智专修学院的简介；</span><br><span class="line">通信的方式是响应；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="什么是通信协议"><a href="#什么是通信协议" class="headerlink" title="什么是通信协议"></a>什么是通信协议</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">通信协议（Communication Protocol）是指通信的双方完成通信所必须遵守的规则和约定。</span><br><span class="line">通俗的理解：通信双方采用约定好的格式来发送和接收消息，这种事先约定好的通信格式，就叫做通信协议。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="现实生活中的通信协议"><a href="#现实生活中的通信协议" class="headerlink" title="现实生活中的通信协议"></a>现实生活中的通信协议</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">张三与李四采用写信的方式进行通信，在填写信封时，写信的双方需要遵守固定的规则。信封的填写规则就是一种通信协议。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="互联网中的通信协议"><a href="#互联网中的通信协议" class="headerlink" title="互联网中的通信协议"></a>互联网中的通信协议</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">客户端与服务器之间要实现网页内容的传输，则通信的双方必须遵守网页内容的传输协议</span><br><span class="line">网页内容又叫做超文本，因此网页内容的传输协议又叫做超文本传输协议（HyperText Transfer Protocol） ，简称 HTTP 协议。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="什么是HTTP协议"><a href="#什么是HTTP协议" class="headerlink" title="什么是HTTP协议"></a>什么是HTTP协议</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP 协议即超文本传送协议 (HyperText Transfer Protocol) ，它规定了客户端与服务器之间进行网页内容传输时，所必须遵守的传输格式。</span><br><span class="line">例如：</span><br><span class="line"> 客户端要以HTTP协议要求的格式把数据提交到服务器</span><br><span class="line"> 服务器要以HTTP协议要求的格式把内容响应给客户端</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="HTTP协议的交互模型"><a href="#HTTP协议的交互模型" class="headerlink" title="HTTP协议的交互模型"></a>HTTP协议的交互模型</h6><h5 id=""><a href="#" class="headerlink" title=""></a><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000219509.png"></h5><h5 id="HTTP请求消息"><a href="#HTTP请求消息" class="headerlink" title="HTTP请求消息"></a>HTTP请求消息</h5><h6 id="什么是HTTP请求消息"><a href="#什么是HTTP请求消息" class="headerlink" title="什么是HTTP请求消息"></a>什么是HTTP请求消息</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">由于 HTTP 协议属于客户端浏览器和服务器之间的通信协议。因此，客户端发起的请求叫做 HTTP 请求，客户端发送到服务器的消息，叫做 HTTP 请求消息。</span><br><span class="line"></span><br><span class="line">注意：HTTP 请求消息又叫做 HTTP 请求报文。</span><br></pre></td></tr></table></figure>

<h6 id="HTTP请求消息的组成部分"><a href="#HTTP请求消息的组成部分" class="headerlink" title="HTTP请求消息的组成部分"></a>HTTP请求消息的组成部分</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP 请求消息由请求行（request line）、请求头部（ header ） 、空行 和 请求体 4 个部分组成。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000352619.png"></p>
<h6 id="请求行"><a href="#请求行" class="headerlink" title="请求行"></a>请求行</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">请求行由请求方式、URL 和 HTTP 协议版本 3 个部分组成，他们之间使用空格隔开。</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000420437.png"></p>
<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000427992.png" style="zoom:60%;" />

<h6 id="请求头部"><a href="#请求头部" class="headerlink" title="请求头部"></a>请求头部</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请求头部用来描述客户端的基本信息，从而把客户端相关的信息告知服务器。比如：User-Agent 用来说明当前是什么类型的浏览器；Content-Type 用来描述发送到服务器的数据格式；Accept 用来描述客户端能够接收什么类型的返回内容；Accept-Language 用来描述客户端期望接收哪种人类语言的文本内容。</span><br><span class="line">请求头部由多行 键/值对 组成，每行的键和值之间用英文的冒号分隔。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="请求头部-–-常见的请求头字段"><a href="#请求头部-–-常见的请求头字段" class="headerlink" title="请求头部 – 常见的请求头字段"></a>请求头部 – 常见的请求头字段</h6><table>
<thead>
<tr>
<th><strong>头部字段</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Host</td>
<td>要请求的服务器域名</td>
</tr>
<tr>
<td>Connection</td>
<td>客户端与服务器的连接方式(close 或 keepalive)</td>
</tr>
<tr>
<td>Content-Length</td>
<td>用来描述请求体的大小</td>
</tr>
<tr>
<td>Accept</td>
<td>客户端可识别的响应内容类型列表</td>
</tr>
<tr>
<td>User-Agent</td>
<td>产生请求的浏览器类型</td>
</tr>
<tr>
<td>Content-Type</td>
<td>客户端告诉服务器实际发送的数据类型</td>
</tr>
<tr>
<td>Accept-Encoding</td>
<td>客户端可接收的内容压缩编码形式</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>用户期望获得的自然语言的优先顺序</td>
</tr>
</tbody></table>
<h6 id="请求头部-–-常见的请求头字段-1"><a href="#请求头部-–-常见的请求头字段-1" class="headerlink" title="请求头部 – 常见的请求头字段"></a>请求头部 – 常见的请求头字段</h6><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000714606.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">关于更多请求头字段的描述，可以查看 MDN 官方文档：https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="空行"><a href="#空行" class="headerlink" title="空行"></a>空行</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">最后一个请求头字段的后面是一个空行，通知服务器请求头部至此结束。</span><br><span class="line">请求消息中的空行，用来分隔请求头部与请求体。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="请求体"><a href="#请求体" class="headerlink" title="请求体"></a>请求体</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请求体中存放的，是要通过 POST 方式提交到服务器的数据。</span><br><span class="line">注意：只有 POST 请求才有请求体，GET 请求没有请求体！</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="HTTP响应消息"><a href="#HTTP响应消息" class="headerlink" title="HTTP响应消息"></a>HTTP响应消息</h5><h6 id="什么是HTTP响应消息"><a href="#什么是HTTP响应消息" class="headerlink" title="什么是HTTP响应消息"></a>什么是HTTP响应消息</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">响应消息就是服务器响应给客户端的消息内容，也叫作响应报文。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="HTTP响应消息的组成部分"><a href="#HTTP响应消息的组成部分" class="headerlink" title="HTTP响应消息的组成部分"></a>HTTP响应消息的组成部分</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP响应消息由状态行、响应头部、空行 和 响应体 4 个部分组成，如下图所示：</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000907436.png"></p>
<h6 id="状态行"><a href="#状态行" class="headerlink" title="状态行"></a>状态行</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">状态行由 HTTP 协议版本、状态码和状态码的描述文本 3 个部分组成，他们之间使用空格隔开;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000928457.png"></p>
<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826000936708.png" style="zoom:80%;" />

<h6 id="响应头部"><a href="#响应头部" class="headerlink" title="响应头部"></a>响应头部</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">响应头部用来描述服务器的基本信息。响应头部由多行 键/值对 组成，每行的键和值之间用英文的冒号分隔。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="响应头部-–-常见的响应头字段"><a href="#响应头部-–-常见的响应头字段" class="headerlink" title="响应头部 – 常见的响应头字段"></a>响应头部 – 常见的响应头字段</h6><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826002049176.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">关于更多响应头字段的描述，可以查看 MDN 官方文档：https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="空行-1"><a href="#空行-1" class="headerlink" title="空行"></a>空行</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在最后一个响应头部字段结束之后，会紧跟一个空行，用来通知客户端响应头部至此结束。</span><br><span class="line">响应消息中的空行，用来分隔响应头部与响应体。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="响应体"><a href="#响应体" class="headerlink" title="响应体"></a>响应体</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">响应体中存放的，是服务器响应给客户端的资源内容。</span><br></pre></td></tr></table></figure>

<h5 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h5><h6 id="什么是HTTP请求方法"><a href="#什么是HTTP请求方法" class="headerlink" title="什么是HTTP请求方法"></a>什么是HTTP请求方法</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP 请求方法，属于 HTTP 协议中的一部分，请求方法的作用是：用来表明要对服务器上的资源执行的操作。最常用的请求方法是 GET 和 POST。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="HTTP的请求方法"><a href="#HTTP的请求方法" class="headerlink" title="HTTP的请求方法"></a>HTTP的请求方法</h6><table>
<thead>
<tr>
<th><strong>序号</strong></th>
<th><strong>方法</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>GET</td>
<td>(查询)发送请求来获得服务器上的资源，请求体中不会包含请求数据，请求数据放在协议头中。</td>
</tr>
<tr>
<td>2</td>
<td>POST</td>
<td>(新增)向服务器提交资源（例如提交表单或上传文件）。数据被包含在请求体中提交给服务器。</td>
</tr>
<tr>
<td>3</td>
<td>PUT</td>
<td>(修改)向服务器提交资源，并使用提交的新资源，替换掉服务器对应的旧资源。</td>
</tr>
<tr>
<td>4</td>
<td>DELETE</td>
<td>(删除)请求服务器删除指定的资源。</td>
</tr>
<tr>
<td>5</td>
<td>HEAD</td>
<td>HEAD 方法请求一个与 GET 请求的响应相同的响应，但没有响应体。</td>
</tr>
<tr>
<td>6</td>
<td>OPTIONS</td>
<td>获取http服务器支持的http请求方法，允许客户端查看服务器的性能，比如ajax跨域时的预检等。</td>
</tr>
<tr>
<td>7</td>
<td>CONNECT</td>
<td>建立一个到由目标资源标识的服务器的隧道。</td>
</tr>
<tr>
<td>8</td>
<td>TRACE</td>
<td>沿着到目标资源的路径执行一个消息环回测试，主要用于测试或诊断。</td>
</tr>
<tr>
<td>9</td>
<td>PATCH</td>
<td>是对 PUT 方法的补充，用来对已知资源进行局部更新 。</td>
</tr>
</tbody></table>
<h5 id="HTTP响应状态代码"><a href="#HTTP响应状态代码" class="headerlink" title="HTTP响应状态代码"></a>HTTP响应状态代码</h5><h6 id="什么是HTTP响应状态码"><a href="#什么是HTTP响应状态码" class="headerlink" title="什么是HTTP响应状态码"></a>什么是HTTP响应状态码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP 响应状态码（HTTP Status Code），也属于 HTTP 协议的一部分，用来标识响应的状态。</span><br><span class="line">响应状态码会随着响应消息一起被发送至客户端浏览器，浏览器根据服务器返回的响应状态码，就能知道这次 HTTP 请求的结果是成功还是失败了。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220826002300962.png"></p>
<h6 id="HTTP响应状态码的组成及分类"><a href="#HTTP响应状态码的组成及分类" class="headerlink" title="HTTP响应状态码的组成及分类"></a>HTTP响应状态码的组成及分类</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HTTP 状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字用来对状态码进行细分。</span><br><span class="line">HTTP 状态码共分为 5 种类型：</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>分类</strong></th>
<th><strong>分类描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1**</td>
<td>信息，服务器收到请求，需要请求者继续执行操作（实际开发中很少遇到 1** 类型的状态码）</td>
</tr>
<tr>
<td>2**</td>
<td>成功，操作被成功接收并处理</td>
</tr>
<tr>
<td>3**</td>
<td>重定向，需要进一步的操作以完成请求</td>
</tr>
<tr>
<td>4**</td>
<td>客户端错误，请求包含语法错误或无法完成请求</td>
</tr>
<tr>
<td>5**</td>
<td>服务器错误，服务器在处理请求的过程中发生了错误</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">完整的 HTTP 响应状态码，可以参考 MDN 官方文档 https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="2-成功相关的响应状态码"><a href="#2-成功相关的响应状态码" class="headerlink" title="2** 成功相关的响应状态码"></a>2** 成功相关的响应状态码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2** 范围的状态码，表示服务器已成功接收到请求并进行处理。常见的 2** 类型的状态码如下：</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>状态码</strong></th>
<th><strong>状态码英文名称</strong></th>
<th><strong>中文描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>200</td>
<td>OK</td>
<td>请求成功。一般用于 GET 与 POST 请求</td>
</tr>
<tr>
<td>201</td>
<td>Created</td>
<td>已创建。成功请求并创建了新的资源，通常用于 POST 或 PUT 请求</td>
</tr>
</tbody></table>
<h6 id="3-重定向相关的响应状态码"><a href="#3-重定向相关的响应状态码" class="headerlink" title="3** 重定向相关的响应状态码"></a>3** 重定向相关的响应状态码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3** 范围的状态码，表示表示服务器要求客户端重定向，需要客户端进一步的操作以完成资源的请求。常见的 3** 类型的状态码如下：</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>状态码</strong></th>
<th><strong>状态码英文名称</strong></th>
<th><strong>中文描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>301</td>
<td>Moved Permanently</td>
<td>永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替</td>
</tr>
<tr>
<td>302</td>
<td>Found</td>
<td>临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI</td>
</tr>
<tr>
<td>304</td>
<td>Not Modified</td>
<td>未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源（响应消息中不包含响应体）。客户端通常会缓存访问过的资源。</td>
</tr>
</tbody></table>
<h6 id="4-客户端错误相关的响应状态码"><a href="#4-客户端错误相关的响应状态码" class="headerlink" title="4** 客户端错误相关的响应状态码"></a>4** 客户端错误相关的响应状态码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4** 范围的状态码，表示客户端的请求有非法内容，从而导致这次请求失败。常见的 4** 类型的状态码如下：</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>状态码</strong></th>
<th><strong>状态码英文名称</strong></th>
<th><strong>中文描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>400</td>
<td>Bad Request</td>
<td>1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。2、请求参数有误。</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>当前请求需要用户验证。</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>服务器已经理解请求，但是拒绝执行它。</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>服务器无法根据客户端的请求找到资源（网页）。</td>
</tr>
<tr>
<td>408</td>
<td>Request Timeout</td>
<td>请求超时。服务器等待客户端发送的请求时间过长，超时。</td>
</tr>
</tbody></table>
<h6 id="5-服务端错误相关的响应状态码"><a href="#5-服务端错误相关的响应状态码" class="headerlink" title="5** 服务端错误相关的响应状态码"></a>5** 服务端错误相关的响应状态码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5** 范围的状态码，表示服务器未能正常处理客户端的请求而出现意外错误。常见的 5** 类型的状态码如下：</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>状态码</strong></th>
<th><strong>状态码英文名称</strong></th>
<th><strong>中文描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>500</td>
<td>Internal Server Error</td>
<td>服务器内部错误，无法完成请求。</td>
</tr>
<tr>
<td>501</td>
<td>Not Implemented</td>
<td>服务器不支持该请求方法，无法完成请求。只有 GET 和 HEAD 请求方法是要求每个服务器必须支持的，其它请求方法在不支持的服务器上会返回501</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>由于超载或系统维护，服务器暂时的无法处理客户端的请求。</td>
</tr>
<tr>
<td>————————————————</td>
<td></td>
<td></td>
</tr>
</tbody></table>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://www.guaguablog.online">GuaGuaSuaka</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.guaguablog.online/2022/12/22/Ajax/">https://www.guaguablog.online/2022/12/22/Ajax/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.guaguablog.online" target="_blank">GuaGua's BLOG</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/images/Ajax.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/12/14/Spring-Boot/"><img class="next-cover" src="/images/spring.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Spring Boot</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/2.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">GuaGuaSuaka</div><div class="author-info__description">BLOG</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/guaguam"><i class="fab fa-github"></i><span>路远且长</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/guaguam" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1960595339@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#ajax"><span class="toc-text">ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">客户端与服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">服务器</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-text">客户端</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#URL%E5%9C%B0%E5%9D%80"><span class="toc-text">URL地址</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#URL%E5%9C%B0%E5%9D%80%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">URL地址的概念</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-2-URL%E5%9C%B0%E5%9D%80%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">2.2 URL地址的组成部分</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E7%BD%91%E9%A1%B5%E7%9A%84%E6%89%93%E5%BC%80%E8%BF%87%E7%A8%8B"><span class="toc-text">分析网页的打开过程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9B%BE%E8%A7%A3%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B"><span class="toc-text">图解客户端与服务器的通信过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E5%88%86%E6%9E%90%E9%80%9A%E4%BF%A1%E8%BF%87%E7%A8%8B"><span class="toc-text">基于浏览器的开发者工具分析通信过程</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AF%B9%E5%A4%96%E6%8F%90%E4%BE%9B%E4%BA%86%E5%93%AA%E4%BA%9B%E8%B5%84%E6%BA%90"><span class="toc-text">服务器对外提供了哪些资源</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BE%8B%E4%B8%BE%E7%BD%91%E9%A1%B5%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E8%B5%84%E6%BA%90"><span class="toc-text">例举网页中常见的资源</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B9%9F%E6%98%AF%E8%B5%84%E6%BA%90"><span class="toc-text">数据也是资源</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%98%AF%E7%BD%91%E9%A1%B5%E7%9A%84%E7%81%B5%E9%AD%82"><span class="toc-text">数据是网页的灵魂</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BD%91%E9%A1%B5%E4%B8%AD%E5%A6%82%E4%BD%95%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="toc-text">网页中如何请求数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%9A%84%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F"><span class="toc-text">资源的请求方式</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3Ajax"><span class="toc-text">了解Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFAjax"><span class="toc-text">什么是Ajax</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6Ajax"><span class="toc-text">2 为什么要学Ajax</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Ajax%E7%9A%84%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">Ajax的典型应用场景</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#jQuery%E4%B8%AD%E7%9A%84Ajax"><span class="toc-text">jQuery中的Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3jQuery%E4%B8%AD%E7%9A%84Ajax"><span class="toc-text">了解jQuery中的Ajax</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#get-%E5%87%BD%E6%95%B0%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-text">$.get()函数的语法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#get-%E5%8F%91%E8%B5%B7%E4%B8%8D%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E8%AF%B7%E6%B1%82"><span class="toc-text">$.get()发起不带参数的请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#get-%E5%8F%91%E8%B5%B7%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E8%AF%B7%E6%B1%82"><span class="toc-text">$.get()发起带参数的请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#post-%E5%87%BD%E6%95%B0%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-text">$.post()函数的语法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#ajax%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">ajax的基本语法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%AF%B7%E6%B1%82%E8%BF%87%E7%A8%8B"><span class="toc-text">分析接口的请求过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87GET%E6%96%B9%E5%BC%8F%E8%AF%B7%E6%B1%82%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-text">通过GET方式请求接口的过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%80%9A%E8%BF%87POST%E6%96%B9%E5%BC%8F%E8%AF%B7%E6%B1%82%E6%8E%A5%E5%8F%A3%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-text">通过POST方式请求接口的过程</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="toc-text">接口测试工具</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85PostMan"><span class="toc-text">下载并安装PostMan</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3PostMan%E7%95%8C%E9%9D%A2%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">了解PostMan界面的组成部分</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8PostMan%E6%B5%8B%E8%AF%95GET%E6%8E%A5%E5%8F%A3"><span class="toc-text">使用PostMan测试GET接口</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8PostMan%E6%B5%8B%E8%AF%95POST%E6%8E%A5%E5%8F%A3"><span class="toc-text">使用PostMan测试POST接口</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3"><span class="toc-text">接口文档</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#form%E8%A1%A8%E5%8D%95%E4%B8%8E%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-text">form表单与模板引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#form%E8%A1%A8%E5%8D%95%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">form表单的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%E5%8D%95"><span class="toc-text">什么是表单</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">表单的组成部分</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#form%E6%A0%87%E7%AD%BE%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">form标签的属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#action"><span class="toc-text">action</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#target"><span class="toc-text">target</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#method"><span class="toc-text">method</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#enctype"><span class="toc-text">enctype</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E7%9A%84%E5%90%8C%E6%AD%A5%E6%8F%90%E4%BA%A4%E5%8F%8A%E7%BC%BA%E7%82%B9"><span class="toc-text">表单的同步提交及缺点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E5%90%8C%E6%AD%A5%E6%8F%90%E4%BA%A4%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">表单同步提交的缺点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%A1%A8%E5%8D%95%E5%90%8C%E6%AD%A5%E6%8F%90%E4%BA%A4%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">如何解决表单同步提交的缺点</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87Ajax%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text">通过Ajax提交表单数据</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E4%BA%8B%E4%BB%B6"><span class="toc-text">监听表单提交事件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%98%BB%E6%AD%A2%E8%A1%A8%E5%8D%95%E9%BB%98%E8%AE%A4%E6%8F%90%E4%BA%A4%E8%A1%8C%E4%B8%BA-e-preventDefault"><span class="toc-text">阻止表单默认提交行为(e.preventDefault())</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#serialize-%E5%87%BD%E6%95%B0"><span class="toc-text">serialize()函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#serialize-%E5%87%BD%E6%95%B0%E7%A4%BA%E4%BE%8B"><span class="toc-text">serialize()函数示例</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">模板引擎的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93UI%E7%BB%93%E6%9E%84%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">渲染UI结构时遇到的问题</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-text">模板引擎的好处</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#art-template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-text">art-template模板引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#art-template%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-text">art-template的使用步骤</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%AF%AD%E6%B3%95-%E8%BE%93%E5%87%BA"><span class="toc-text">标准语法 - 输出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%AF%AD%E6%B3%95-%E2%80%93-%E5%8E%9F%E6%96%87%E8%BE%93%E5%87%BA-%E4%BF%9D%E8%AF%81html%E8%A2%AB%E6%B8%B2%E6%9F%93"><span class="toc-text">标准语法 – 原文输出(保证html被渲染)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%AF%AD%E6%B3%95-%E2%80%93-%E6%9D%A1%E4%BB%B6%E8%BE%93%E5%87%BA"><span class="toc-text">标准语法 – 条件输出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%AF%AD%E6%B3%95-%E2%80%93-%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%87%BA"><span class="toc-text">标准语法 – 循环输出</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E8%AF%AD%E6%B3%95-%E2%80%93-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">标准语法 – 过滤器</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">模板引擎的实现原理</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8while%E5%BE%AA%E7%8E%AFreplace"><span class="toc-text">使用while循环replace</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#replace%E6%9B%BF%E6%8D%A2%E4%B8%BA%E7%9C%9F%E5%80%BC"><span class="toc-text">replace替换为真值</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">实现步骤</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ajax%E5%8A%A0%E5%BC%BA%E7%89%88"><span class="toc-text">ajax加强版</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#XMLHttpRequest%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">XMLHttpRequest的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88XMLHttpRequest"><span class="toc-text">什么XMLHttpRequest</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8xhr%E5%8F%91%E8%B5%B7GET%E8%AF%B7%E6%B1%82"><span class="toc-text">使用xhr发起GET请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3xhr%E5%AF%B9%E8%B1%A1%E7%9A%84readyState%E5%B1%9E%E6%80%A7"><span class="toc-text">了解xhr对象的readyState属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8xhr%E5%8F%91%E8%B5%B7%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84GET%E8%AF%B7%E6%B1%82"><span class="toc-text">使用xhr发起带参数的GET请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">什么是查询字符串</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#GET%E8%AF%B7%E6%B1%82%E6%90%BA%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-text">GET请求携带参数的本质</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#method-%E5%92%8Ctype"><span class="toc-text">method 和type</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#URL%E7%BC%96%E7%A0%81%E4%B8%8E%E8%A7%A3%E7%A0%81"><span class="toc-text">URL编码与解码</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFURL%E7%BC%96%E7%A0%81"><span class="toc-text">什么是URL编码</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AF%B9URL%E8%BF%9B%E8%A1%8C%E7%BC%96%E7%A0%81%E4%B8%8E%E8%A7%A3%E7%A0%81"><span class="toc-text">如何对URL进行编码与解码</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8xhr%E5%8F%91%E8%B5%B7POST%E8%AF%B7%E6%B1%82"><span class="toc-text">使用xhr发起POST请求</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%A0%BC%E5%BC%8F"><span class="toc-text">数据交换格式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%A0%BC%E5%BC%8F"><span class="toc-text">什么是数据交换格式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFXML"><span class="toc-text">什么是XML</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#XML%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">XML的缺点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJSON"><span class="toc-text">什么是JSON</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JSON%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%BB%93%E6%9E%84"><span class="toc-text">JSON的两种结构</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JSON%E8%AF%AD%E6%B3%95%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">JSON语法注意事项</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JSON%E5%92%8CJS%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">JSON和JS对象的关系</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JSON%E5%92%8CJS%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BA%92%E8%BD%AC"><span class="toc-text">JSON和JS对象的互转</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E8%87%AA%E5%B7%B1%E7%9A%84Ajax%E5%87%BD%E6%95%B0"><span class="toc-text">封装自己的Ajax函数</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%95%88%E6%9E%9C"><span class="toc-text">要实现的效果</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#XMLHttpRequest-Level2%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-text">XMLHttpRequest Level2的新特性</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%A7%E7%89%88XMLHttpRequest%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">旧版XMLHttpRequest的缺点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#XMLHttpRequest-Level2%E7%9A%84%E6%96%B0%E5%8A%9F%E8%83%BD"><span class="toc-text">XMLHttpRequest Level2的新功能</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEHTTP%E8%AF%B7%E6%B1%82%E6%97%B6%E9%99%90"><span class="toc-text">设置HTTP请求时限</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#FormData%E5%AF%B9%E8%B1%A1%E7%AE%A1%E7%90%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text">FormData对象管理表单数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#FormData%E5%AF%B9%E8%B1%A1%E7%AE%A1%E7%90%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE-1"><span class="toc-text">FormData对象管理表单数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="toc-text">上传文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#FormData%E5%AF%B9%E8%B1%A1%E7%AE%A1%E7%90%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE-2"><span class="toc-text">FormData对象管理表单数据</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-1"><span class="toc-text">上传文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6"><span class="toc-text">显示文件上传进度</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E9%9C%80%E8%A6%81%E7%9A%84%E5%BA%93"><span class="toc-text">导入需要的库</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8EBootstrap%E6%B8%B2%E6%9F%93%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-text">基于Bootstrap渲染进度条</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E4%B8%8A%E4%BC%A0%E8%BF%9B%E5%BA%A6%E7%9A%84%E4%BA%8B%E4%BB%B6"><span class="toc-text">监听上传进度的事件</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#jQuery%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-text">jQuery高级用法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#jQuery%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-text">jQuery实现文件上传</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#jQuery%E5%AE%9E%E7%8E%B0loading%E6%95%88%E6%9E%9C"><span class="toc-text">jQuery实现loading效果</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#axios"><span class="toc-text">axios</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#axios%E5%8F%91%E8%B5%B7GET%E8%AF%B7%E6%B1%82"><span class="toc-text">axios发起GET请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#axios%E5%8F%91%E8%B5%B7POST%E8%AF%B7%E6%B1%82"><span class="toc-text">axios发起POST请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8axios%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82"><span class="toc-text">直接使用axios发起请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8axios%E5%8F%91%E8%B5%B7GET%E8%AF%B7%E6%B1%82"><span class="toc-text">直接使用axios发起GET请求</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8axios%E5%8F%91%E8%B5%B7POST%E8%AF%B7%E6%B1%82"><span class="toc-text">直接使用axios发起POST请求</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E4%B8%8EJSONP"><span class="toc-text">跨域与JSONP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E5%92%8C%E8%B7%A8%E5%9F%9F"><span class="toc-text">了解同源策略和跨域</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8C%E6%BA%90"><span class="toc-text">什么是同源</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-text">什么是同源策略</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F"><span class="toc-text">什么是跨域</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82%E7%9A%84%E6%8B%A6%E6%88%AA"><span class="toc-text">浏览器对跨域请求的拦截</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82"><span class="toc-text">如何实现跨域数据请求</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JSONP"><span class="toc-text">JSONP</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJSONP"><span class="toc-text">什么是JSONP</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JSONP%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">JSONP的实现原理</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84JSONP"><span class="toc-text">自己实现一个简单的JSONP</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#JSONP%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">JSONP的缺点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#jQuery%E4%B8%AD%E7%9A%84JSONP"><span class="toc-text">jQuery中的JSONP</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%82%E6%95%B0%E5%8F%8A%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%90%8D%E7%A7%B0"><span class="toc-text">自定义参数及回调函数名称</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#jQuery%E4%B8%ADJSONP%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="toc-text">jQuery中JSONP的实现过程</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81"><span class="toc-text">防抖和节流</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%B2%E6%8A%96"><span class="toc-text">什么是防抖</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%98%B2%E6%8A%96%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">防抖的应用场景</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E9%98%B2%E6%8A%96"><span class="toc-text">实现输入框的防抖</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E7%BC%93%E5%AD%98%E5%AF%B9%E8%B1%A1"><span class="toc-text">定义全局缓存对象</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B0%86%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C%E4%BF%9D%E5%AD%98%E5%88%B0%E7%BC%93%E5%AD%98%E5%AF%B9%E8%B1%A1%E4%B8%AD"><span class="toc-text">将搜索结果保存到缓存对象中</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E4%BB%8E%E7%BC%93%E5%AD%98%E4%B8%AD%E8%8E%B7%E5%8F%96%E6%90%9C%E7%B4%A2%E5%BB%BA%E8%AE%AE"><span class="toc-text">优先从缓存中获取搜索建议</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%8A%82%E6%B5%81"><span class="toc-text">什么是节流</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E7%AE%80%E4%BB%8B"><span class="toc-text">HTTP协议简介</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%9A%E4%BF%A1"><span class="toc-text">什么是通信</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%8E%B0%E5%AE%9E%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-text">现实生活中的通信</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E4%B8%AD%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-text">互联网中的通信</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE"><span class="toc-text">什么是通信协议</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%8E%B0%E5%AE%9E%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE"><span class="toc-text">现实生活中的通信协议</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E4%B8%AD%E7%9A%84%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE"><span class="toc-text">互联网中的通信协议</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP%E5%8D%8F%E8%AE%AE"><span class="toc-text">什么是HTTP协议</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%9E%8B"><span class="toc-text">HTTP协议的交互模型</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF"><span class="toc-text">HTTP请求消息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF"><span class="toc-text">什么是HTTP请求消息</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82%E6%B6%88%E6%81%AF%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">HTTP请求消息的组成部分</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%A1%8C"><span class="toc-text">请求行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4%E9%83%A8"><span class="toc-text">请求头部</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4%E9%83%A8-%E2%80%93-%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%AD%97%E6%AE%B5"><span class="toc-text">请求头部 – 常见的请求头字段</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4%E9%83%A8-%E2%80%93-%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%AD%97%E6%AE%B5-1"><span class="toc-text">请求头部 – 常见的请求头字段</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A9%BA%E8%A1%8C"><span class="toc-text">空行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E4%BD%93"><span class="toc-text">请求体</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94%E6%B6%88%E6%81%AF"><span class="toc-text">HTTP响应消息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP%E5%93%8D%E5%BA%94%E6%B6%88%E6%81%AF"><span class="toc-text">什么是HTTP响应消息</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94%E6%B6%88%E6%81%AF%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">HTTP响应消息的组成部分</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%A1%8C"><span class="toc-text">状态行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8"><span class="toc-text">响应头部</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%A4%B4%E9%83%A8-%E2%80%93-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%93%8D%E5%BA%94%E5%A4%B4%E5%AD%97%E6%AE%B5"><span class="toc-text">响应头部 – 常见的响应头字段</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A9%BA%E8%A1%8C-1"><span class="toc-text">空行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E4%BD%93"><span class="toc-text">响应体</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="toc-text">HTTP请求方法</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="toc-text">什么是HTTP请求方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HTTP%E7%9A%84%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95"><span class="toc-text">HTTP的请求方法</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E4%BB%A3%E7%A0%81"><span class="toc-text">HTTP响应状态代码</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-text">什么是HTTP响应状态码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#HTTP%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81%E7%9A%84%E7%BB%84%E6%88%90%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-text">HTTP响应状态码的组成及分类</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E6%88%90%E5%8A%9F%E7%9B%B8%E5%85%B3%E7%9A%84%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-text">2** 成功相关的响应状态码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E9%87%8D%E5%AE%9A%E5%90%91%E7%9B%B8%E5%85%B3%E7%9A%84%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-text">3** 重定向相关的响应状态码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%94%99%E8%AF%AF%E7%9B%B8%E5%85%B3%E7%9A%84%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-text">4** 客户端错误相关的响应状态码</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%94%99%E8%AF%AF%E7%9B%B8%E5%85%B3%E7%9A%84%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-text">5** 服务端错误相关的响应状态码</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/22/Ajax/" title="Ajax"><img src="/images/Ajax.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Ajax"/></a><div class="content"><a class="title" href="/2022/12/22/Ajax/" title="Ajax">Ajax</a><time datetime="2022-12-22T06:33:23.000Z" title="发表于 2022-12-22 14:33:23">2022-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/14/Spring-Boot/" title="Spring Boot"><img src="/images/spring.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot"/></a><div class="content"><a class="title" href="/2022/12/14/Spring-Boot/" title="Spring Boot">Spring Boot</a><time datetime="2022-12-14T06:20:47.000Z" title="发表于 2022-12-14 14:20:47">2022-12-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/25/MarkDown-Grammar/" title="MarkDown Grammar"><img src="/images/MD.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MarkDown Grammar"/></a><div class="content"><a class="title" href="/2022/11/25/MarkDown-Grammar/" title="MarkDown Grammar">MarkDown Grammar</a><time datetime="2022-11-25T14:09:07.000Z" title="发表于 2022-11-25 22:09:07">2022-11-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/25/ES6-11/" title="ES6-11"><img src="/images/ES.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ES6-11"/></a><div class="content"><a class="title" href="/2022/11/25/ES6-11/" title="ES6-11">ES6-11</a><time datetime="2022-11-25T13:39:29.000Z" title="发表于 2022-11-25 21:39:29">2022-11-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/16/Vue2-Notes/" title="Vue2 Notes"><img src="/images/vue.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue2 Notes"/></a><div class="content"><a class="title" href="/2022/11/16/Vue2-Notes/" title="Vue2 Notes">Vue2 Notes</a><time datetime="2022-11-16T13:16:37.000Z" title="发表于 2022-11-16 21:16:37">2022-11-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By GuaGuaSuaka</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.guaguablog.online/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.guaguablog.online/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="15" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用多线部署，主线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="本站采用多线部署，备用线路托管于4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '1s');
    arr[i].setAttribute('data-wow-delay', '1s');
    arr[i].setAttribute('data-wow-offset', '100');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '');
    arr[i].setAttribute('data-wow-delay', '');
    arr[i].setAttribute('data-wow-offset', '');
    arr[i].setAttribute('data-wow-iteration', '');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><!-- hexo injector body_end end --></body></html>